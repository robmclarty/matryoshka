"use strict";function _interopDefault(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function createCommonjsModule(t,e){return e={exports:{}},t(e,e.exports),e.exports}function zero$1(t){for(var e=t.length;--e>=0;)t[e]=0}function StaticTreeDesc(t,e,n,r,a){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=t&&t.length}function TreeDesc(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function d_code(t){return t<256?_dist_code[t]:_dist_code[256+(t>>>7)]}function put_short(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function send_bits(t,e,n){t.bi_valid>Buf_size-n?(t.bi_buf|=e<<t.bi_valid&65535,put_short(t,t.bi_buf),t.bi_buf=e>>Buf_size-t.bi_valid,t.bi_valid+=n-Buf_size):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function send_code(t,e,n){send_bits(t,n[2*e],n[2*e+1])}function bi_reverse(t,e){var n=0;do n|=1&t,t>>>=1,n<<=1;while(--e>0);return n>>>1}function bi_flush(t){16===t.bi_valid?(put_short(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function gen_bitlen(t,e){var n,r,a,i,s,o,_=e.dyn_tree,l=e.max_code,h=e.stat_desc.static_tree,f=e.stat_desc.has_stree,c=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,u=e.stat_desc.max_length,b=0;for(i=0;i<=MAX_BITS$1;i++)t.bl_count[i]=0;for(_[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<HEAP_SIZE$1;n++)r=t.heap[n],i=_[2*_[2*r+1]+1]+1,i>u&&(i=u,b++),_[2*r+1]=i,r>l||(t.bl_count[i]++,s=0,r>=d&&(s=c[r-d]),o=_[2*r],t.opt_len+=o*(i+s),f&&(t.static_len+=o*(h[2*r+1]+s)));if(0!==b){do{for(i=u-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[u]--,b-=2}while(b>0);for(i=u;0!==i;i--)for(r=t.bl_count[i];0!==r;)a=t.heap[--n],a>l||(_[2*a+1]!==i&&(t.opt_len+=(i-_[2*a+1])*_[2*a],_[2*a+1]=i),r--)}}function gen_codes(t,e,n){var r,a,i=new Array(MAX_BITS$1+1),s=0;for(r=1;r<=MAX_BITS$1;r++)i[r]=s=s+n[r-1]<<1;for(a=0;a<=e;a++){var o=t[2*a+1];0!==o&&(t[2*a]=bi_reverse(i[o]++,o))}}function tr_static_init(){var t,e,n,r,a,i=new Array(MAX_BITS$1+1);for(n=0,r=0;r<LENGTH_CODES$1-1;r++)for(base_length[r]=n,t=0;t<1<<extra_lbits[r];t++)_length_code[n++]=r;for(_length_code[n-1]=r,a=0,r=0;r<16;r++)for(base_dist[r]=a,t=0;t<1<<extra_dbits[r];t++)_dist_code[a++]=r;for(a>>=7;r<D_CODES$1;r++)for(base_dist[r]=a<<7,t=0;t<1<<extra_dbits[r]-7;t++)_dist_code[256+a++]=r;for(e=0;e<=MAX_BITS$1;e++)i[e]=0;for(t=0;t<=143;)static_ltree[2*t+1]=8,t++,i[8]++;for(;t<=255;)static_ltree[2*t+1]=9,t++,i[9]++;for(;t<=279;)static_ltree[2*t+1]=7,t++,i[7]++;for(;t<=287;)static_ltree[2*t+1]=8,t++,i[8]++;for(gen_codes(static_ltree,L_CODES$1+1,i),t=0;t<D_CODES$1;t++)static_dtree[2*t+1]=5,static_dtree[2*t]=bi_reverse(t,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)}function init_block(t){var e;for(e=0;e<L_CODES$1;e++)t.dyn_ltree[2*e]=0;for(e=0;e<D_CODES$1;e++)t.dyn_dtree[2*e]=0;for(e=0;e<BL_CODES$1;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*END_BLOCK]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function bi_windup(t){t.bi_valid>8?put_short(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function copy_block(t,e,n,r){bi_windup(t),r&&(put_short(t,n),put_short(t,~n)),utils$2.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function smaller(t,e,n,r){var a=2*e,i=2*n;return t[a]<t[i]||t[a]===t[i]&&r[e]<=r[n]}function pqdownheap(t,e,n){for(var r=t.heap[n],a=n<<1;a<=t.heap_len&&(a<t.heap_len&&smaller(e,t.heap[a+1],t.heap[a],t.depth)&&a++,!smaller(e,r,t.heap[a],t.depth));)t.heap[n]=t.heap[a],n=a,a<<=1;t.heap[n]=r}function compress_block(t,e,n){var r,a,i,s,o=0;if(0!==t.last_lit)do r=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],a=t.pending_buf[t.l_buf+o],o++,0===r?send_code(t,a,e):(i=_length_code[a],send_code(t,i+LITERALS$1+1,e),s=extra_lbits[i],0!==s&&(a-=base_length[i],send_bits(t,a,s)),r--,i=d_code(r),send_code(t,i,n),s=extra_dbits[i],0!==s&&(r-=base_dist[i],send_bits(t,r,s)));while(o<t.last_lit);send_code(t,END_BLOCK,e)}function build_tree(t,e){var n,r,a,i=e.dyn_tree,s=e.stat_desc.static_tree,o=e.stat_desc.has_stree,_=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=HEAP_SIZE$1,n=0;n<_;n++)0!==i[2*n]?(t.heap[++t.heap_len]=l=n,t.depth[n]=0):i[2*n+1]=0;for(;t.heap_len<2;)a=t.heap[++t.heap_len]=l<2?++l:0,i[2*a]=1,t.depth[a]=0,t.opt_len--,o&&(t.static_len-=s[2*a+1]);for(e.max_code=l,n=t.heap_len>>1;n>=1;n--)pqdownheap(t,i,n);a=_;do n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],pqdownheap(t,i,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,i[2*a]=i[2*n]+i[2*r],t.depth[a]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,i[2*n+1]=i[2*r+1]=a,t.heap[1]=a++,pqdownheap(t,i,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],gen_bitlen(t,e),gen_codes(i,l,t.bl_count)}function scan_tree(t,e,n){var r,a,i=-1,s=e[1],o=0,_=7,l=4;for(0===s&&(_=138,l=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)a=s,s=e[2*(r+1)+1],++o<_&&a===s||(o<l?t.bl_tree[2*a]+=o:0!==a?(a!==i&&t.bl_tree[2*a]++,t.bl_tree[2*REP_3_6]++):o<=10?t.bl_tree[2*REPZ_3_10]++:t.bl_tree[2*REPZ_11_138]++,o=0,i=a,0===s?(_=138,l=3):a===s?(_=6,l=3):(_=7,l=4))}function send_tree(t,e,n){var r,a,i=-1,s=e[1],o=0,_=7,l=4;for(0===s&&(_=138,l=3),r=0;r<=n;r++)if(a=s,s=e[2*(r+1)+1],!(++o<_&&a===s)){if(o<l){do send_code(t,a,t.bl_tree);while(0!==--o)}else 0!==a?(a!==i&&(send_code(t,a,t.bl_tree),o--),send_code(t,REP_3_6,t.bl_tree),send_bits(t,o-3,2)):o<=10?(send_code(t,REPZ_3_10,t.bl_tree),send_bits(t,o-3,3)):(send_code(t,REPZ_11_138,t.bl_tree),send_bits(t,o-11,7));o=0,i=a,0===s?(_=138,l=3):a===s?(_=6,l=3):(_=7,l=4)}}function build_bl_tree(t){var e;for(scan_tree(t,t.dyn_ltree,t.l_desc.max_code),scan_tree(t,t.dyn_dtree,t.d_desc.max_code),build_tree(t,t.bl_desc),e=BL_CODES$1-1;e>=3&&0===t.bl_tree[2*bl_order[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function send_all_trees(t,e,n,r){var a;for(send_bits(t,e-257,5),send_bits(t,n-1,5),send_bits(t,r-4,4),a=0;a<r;a++)send_bits(t,t.bl_tree[2*bl_order[a]+1],3);send_tree(t,t.dyn_ltree,e-1),send_tree(t,t.dyn_dtree,n-1)}function detect_data_type(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return Z_BINARY;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return Z_TEXT;for(e=32;e<LITERALS$1;e++)if(0!==t.dyn_ltree[2*e])return Z_TEXT;return Z_BINARY}function _tr_init(t){static_init_done||(tr_static_init(),static_init_done=!0),t.l_desc=new TreeDesc(t.dyn_ltree,static_l_desc),t.d_desc=new TreeDesc(t.dyn_dtree,static_d_desc),t.bl_desc=new TreeDesc(t.bl_tree,static_bl_desc),t.bi_buf=0,t.bi_valid=0,init_block(t)}function _tr_stored_block(t,e,n,r){send_bits(t,(STORED_BLOCK<<1)+(r?1:0),3),copy_block(t,e,n,!0)}function _tr_align(t){send_bits(t,STATIC_TREES<<1,3),send_code(t,END_BLOCK,static_ltree),bi_flush(t)}function _tr_flush_block(t,e,n,r){var a,i,s=0;t.level>0?(t.strm.data_type===Z_UNKNOWN$1&&(t.strm.data_type=detect_data_type(t)),build_tree(t,t.l_desc),build_tree(t,t.d_desc),s=build_bl_tree(t),a=t.opt_len+3+7>>>3,i=t.static_len+3+7>>>3,i<=a&&(a=i)):a=i=n+5,n+4<=a&&e!==-1?_tr_stored_block(t,e,n,r):t.strategy===Z_FIXED$1||i===a?(send_bits(t,(STATIC_TREES<<1)+(r?1:0),3),compress_block(t,static_ltree,static_dtree)):(send_bits(t,(DYN_TREES<<1)+(r?1:0),3),send_all_trees(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),compress_block(t,t.dyn_ltree,t.dyn_dtree)),init_block(t),r&&bi_windup(t)}function _tr_tally(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(_length_code[n]+LITERALS$1+1)]++,t.dyn_dtree[2*d_code(e)]++),t.last_lit===t.lit_bufsize-1}function adler32$1(t,e,n,r){for(var a=65535&t|0,i=t>>>16&65535|0,s=0;0!==n;){s=n>2e3?2e3:n,n-=s;do a=a+e[r++]|0,i=i+a|0;while(--s);a%=65521,i%=65521}return a|i<<16|0}function makeTable(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}function crc32$1(t,e,n,r){var a=crcTable,i=r+n;t^=-1;for(var s=r;s<i;s++)t=t>>>8^a[255&(t^e[s])];return t^-1}function err(t,e){return t.msg=msg$1[e],e}function rank(t){return(t<<1)-(t>4?9:0)}function zero(t){for(var e=t.length;--e>=0;)t[e]=0}function flush_pending(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(utils$1.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function flush_block_only(t,e){trees._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,flush_pending(t.strm)}function put_byte(t,e){t.pending_buf[t.pending++]=e}function putShortMSB(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function read_buf(t,e,n,r){var a=t.avail_in;return a>r&&(a=r),0===a?0:(t.avail_in-=a,utils$1.arraySet(e,t.input,t.next_in,a,n),1===t.state.wrap?t.adler=adler32(t.adler,e,a,n):2===t.state.wrap&&(t.adler=crc32(t.adler,e,a,n)),t.next_in+=a,t.total_in+=a,a)}function longest_match(t,e){var n,r,a=t.max_chain_length,i=t.strstart,s=t.prev_length,o=t.nice_match,_=t.strstart>t.w_size-MIN_LOOKAHEAD?t.strstart-(t.w_size-MIN_LOOKAHEAD):0,l=t.window,h=t.w_mask,f=t.prev,c=t.strstart+MAX_MATCH,d=l[i+s-1],u=l[i+s];t.prev_length>=t.good_match&&(a>>=2),o>t.lookahead&&(o=t.lookahead);do if(n=e,l[n+s]===u&&l[n+s-1]===d&&l[n]===l[i]&&l[++n]===l[i+1]){i+=2,n++;do;while(l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&i<c);if(r=MAX_MATCH-(c-i),i=c-MAX_MATCH,r>s){if(t.match_start=e,s=r,r>=o)break;d=l[i+s-1],u=l[i+s]}}while((e=f[e&h])>_&&0!==--a);return s<=t.lookahead?s:t.lookahead}function fill_window(t){var e,n,r,a,i,s=t.w_size;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-MIN_LOOKAHEAD)){utils$1.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,n=t.hash_size,e=n;do r=t.head[--e],t.head[e]=r>=s?r-s:0;while(--n);n=s,e=n;do r=t.prev[--e],t.prev[e]=r>=s?r-s:0;while(--n);a+=s}if(0===t.strm.avail_in)break;if(n=read_buf(t.strm,t.window,t.strstart+t.lookahead,a),t.lookahead+=n,t.lookahead+t.insert>=MIN_MATCH)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+MIN_MATCH-1])&t.hash_mask,t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<MIN_MATCH)););}while(t.lookahead<MIN_LOOKAHEAD&&0!==t.strm.avail_in)}function deflate_stored(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(fill_window(t),0===t.lookahead&&e===Z_NO_FLUSH$1)return BS_NEED_MORE;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,flush_block_only(t,!1),0===t.strm.avail_out))return BS_NEED_MORE;if(t.strstart-t.block_start>=t.w_size-MIN_LOOKAHEAD&&(flush_block_only(t,!1),0===t.strm.avail_out))return BS_NEED_MORE}return t.insert=0,e===Z_FINISH$1?(flush_block_only(t,!0),0===t.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):t.strstart>t.block_start&&(flush_block_only(t,!1),0===t.strm.avail_out)?BS_NEED_MORE:BS_NEED_MORE}function deflate_fast(t,e){for(var n,r;;){if(t.lookahead<MIN_LOOKAHEAD){if(fill_window(t),t.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$1)return BS_NEED_MORE;if(0===t.lookahead)break}if(n=0,t.lookahead>=MIN_MATCH&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+MIN_MATCH-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-MIN_LOOKAHEAD&&(t.match_length=longest_match(t,n)),t.match_length>=MIN_MATCH)if(r=trees._tr_tally(t,t.strstart-t.match_start,t.match_length-MIN_MATCH),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=MIN_MATCH){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+MIN_MATCH-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=trees._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(flush_block_only(t,!1),0===t.strm.avail_out))return BS_NEED_MORE}return t.insert=t.strstart<MIN_MATCH-1?t.strstart:MIN_MATCH-1,e===Z_FINISH$1?(flush_block_only(t,!0),0===t.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):t.last_lit&&(flush_block_only(t,!1),0===t.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(t,e){for(var n,r,a;;){if(t.lookahead<MIN_LOOKAHEAD){if(fill_window(t),t.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$1)return BS_NEED_MORE;if(0===t.lookahead)break}if(n=0,t.lookahead>=MIN_MATCH&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+MIN_MATCH-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=MIN_MATCH-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-MIN_LOOKAHEAD&&(t.match_length=longest_match(t,n),t.match_length<=5&&(t.strategy===Z_FILTERED||t.match_length===MIN_MATCH&&t.strstart-t.match_start>4096)&&(t.match_length=MIN_MATCH-1)),t.prev_length>=MIN_MATCH&&t.match_length<=t.prev_length){a=t.strstart+t.lookahead-MIN_MATCH,r=trees._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-MIN_MATCH),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=a&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+MIN_MATCH-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!==--t.prev_length);if(t.match_available=0,t.match_length=MIN_MATCH-1,t.strstart++,r&&(flush_block_only(t,!1),0===t.strm.avail_out))return BS_NEED_MORE}else if(t.match_available){if(r=trees._tr_tally(t,0,t.window[t.strstart-1]),r&&flush_block_only(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return BS_NEED_MORE}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=trees._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<MIN_MATCH-1?t.strstart:MIN_MATCH-1,e===Z_FINISH$1?(flush_block_only(t,!0),0===t.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):t.last_lit&&(flush_block_only(t,!1),0===t.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_rle(t,e){for(var n,r,a,i,s=t.window;;){if(t.lookahead<=MAX_MATCH){if(fill_window(t),t.lookahead<=MAX_MATCH&&e===Z_NO_FLUSH$1)return BS_NEED_MORE;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=MIN_MATCH&&t.strstart>0&&(a=t.strstart-1,r=s[a],r===s[++a]&&r===s[++a]&&r===s[++a])){i=t.strstart+MAX_MATCH;do;while(r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&a<i);t.match_length=MAX_MATCH-(i-a),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=MIN_MATCH?(n=trees._tr_tally(t,1,t.match_length-MIN_MATCH),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=trees._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(flush_block_only(t,!1),0===t.strm.avail_out))return BS_NEED_MORE}return t.insert=0,e===Z_FINISH$1?(flush_block_only(t,!0),0===t.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):t.last_lit&&(flush_block_only(t,!1),0===t.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_huff(t,e){for(var n;;){if(0===t.lookahead&&(fill_window(t),0===t.lookahead)){if(e===Z_NO_FLUSH$1)return BS_NEED_MORE;break}if(t.match_length=0,n=trees._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(flush_block_only(t,!1),0===t.strm.avail_out))return BS_NEED_MORE}return t.insert=0,e===Z_FINISH$1?(flush_block_only(t,!0),0===t.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):t.last_lit&&(flush_block_only(t,!1),0===t.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function Config(t,e,n,r,a){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=a}function lm_init(t){t.window_size=2*t.w_size,zero(t.head),t.max_lazy_match=configuration_table[t.level].max_lazy,t.good_match=configuration_table[t.level].good_length,t.nice_match=configuration_table[t.level].nice_length,t.max_chain_length=configuration_table[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=MIN_MATCH-1,t.match_available=0,t.ins_h=0}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$1,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils$1.Buf16(2*HEAP_SIZE),this.dyn_dtree=new utils$1.Buf16(2*(2*D_CODES+1)),this.bl_tree=new utils$1.Buf16(2*(2*BL_CODES+1)),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils$1.Buf16(MAX_BITS+1),this.heap=new utils$1.Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils$1.Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=Z_UNKNOWN,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?INIT_STATE:BUSY_STATE,t.adler=2===e.wrap?0:1,e.last_flush=Z_NO_FLUSH$1,trees._tr_init(e),Z_OK$1):err(t,Z_STREAM_ERROR)}function deflateReset(t){var e=deflateResetKeep(t);return e===Z_OK$1&&lm_init(t.state),e}function deflateSetHeader(t,e){return t&&t.state?2!==t.state.wrap?Z_STREAM_ERROR:(t.state.gzhead=e,Z_OK$1):Z_STREAM_ERROR}function deflateInit2(t,e,n,r,a,i){if(!t)return Z_STREAM_ERROR;var s=1;if(e===Z_DEFAULT_COMPRESSION$1&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>MAX_MEM_LEVEL||n!==Z_DEFLATED$1||r<8||r>15||e<0||e>9||i<0||i>Z_FIXED)return err(t,Z_STREAM_ERROR);8===r&&(r=9);var o=new DeflateState;return t.state=o,o.strm=t,o.wrap=s,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+MIN_MATCH-1)/MIN_MATCH),o.window=new utils$1.Buf8(2*o.w_size),o.head=new utils$1.Buf16(o.hash_size),o.prev=new utils$1.Buf16(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new utils$1.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=e,o.strategy=i,o.method=n,deflateReset(t)}function deflateInit(t,e){return deflateInit2(t,e,Z_DEFLATED$1,MAX_WBITS,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1)}function deflate$2(t,e){var n,r,a,i;if(!t||!t.state||e>Z_BLOCK||e<0)return t?err(t,Z_STREAM_ERROR):Z_STREAM_ERROR;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||r.status===FINISH_STATE&&e!==Z_FINISH$1)return err(t,0===t.avail_out?Z_BUF_ERROR:Z_STREAM_ERROR);if(r.strm=t,n=r.last_flush,r.last_flush=e,r.status===INIT_STATE)if(2===r.wrap)t.adler=0,put_byte(r,31),put_byte(r,139),put_byte(r,8),r.gzhead?(put_byte(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),put_byte(r,255&r.gzhead.time),put_byte(r,r.gzhead.time>>8&255),put_byte(r,r.gzhead.time>>16&255),put_byte(r,r.gzhead.time>>24&255),put_byte(r,9===r.level?2:r.strategy>=Z_HUFFMAN_ONLY||r.level<2?4:0),put_byte(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(put_byte(r,255&r.gzhead.extra.length),put_byte(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=crc32(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=EXTRA_STATE):(put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,9===r.level?2:r.strategy>=Z_HUFFMAN_ONLY||r.level<2?4:0),put_byte(r,OS_CODE),r.status=BUSY_STATE);else{var s=Z_DEFLATED$1+(r.w_bits-8<<4)<<8,o=-1;o=r.strategy>=Z_HUFFMAN_ONLY||r.level<2?0:r.level<6?1:6===r.level?2:3,s|=o<<6,0!==r.strstart&&(s|=PRESET_DICT),s+=31-s%31,r.status=BUSY_STATE,putShortMSB(r,s),0!==r.strstart&&(putShortMSB(r,t.adler>>>16),putShortMSB(r,65535&t.adler)),t.adler=1}if(r.status===EXTRA_STATE)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=crc32(t.adler,r.pending_buf,r.pending-a,a)),flush_pending(t),a=r.pending,r.pending!==r.pending_buf_size));)put_byte(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=crc32(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=NAME_STATE)}else r.status=NAME_STATE;if(r.status===NAME_STATE)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=crc32(t.adler,r.pending_buf,r.pending-a,a)),flush_pending(t),a=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,put_byte(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>a&&(t.adler=crc32(t.adler,r.pending_buf,r.pending-a,a)),0===i&&(r.gzindex=0,r.status=COMMENT_STATE)}else r.status=COMMENT_STATE;if(r.status===COMMENT_STATE)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=crc32(t.adler,r.pending_buf,r.pending-a,a)),flush_pending(t),a=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,put_byte(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>a&&(t.adler=crc32(t.adler,r.pending_buf,r.pending-a,a)),0===i&&(r.status=HCRC_STATE)}else r.status=HCRC_STATE;if(r.status===HCRC_STATE&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&flush_pending(t),r.pending+2<=r.pending_buf_size&&(put_byte(r,255&t.adler),put_byte(r,t.adler>>8&255),t.adler=0,r.status=BUSY_STATE)):r.status=BUSY_STATE),0!==r.pending){if(flush_pending(t),0===t.avail_out)return r.last_flush=-1,Z_OK$1}else if(0===t.avail_in&&rank(e)<=rank(n)&&e!==Z_FINISH$1)return err(t,Z_BUF_ERROR);if(r.status===FINISH_STATE&&0!==t.avail_in)return err(t,Z_BUF_ERROR);if(0!==t.avail_in||0!==r.lookahead||e!==Z_NO_FLUSH$1&&r.status!==FINISH_STATE){var _=r.strategy===Z_HUFFMAN_ONLY?deflate_huff(r,e):r.strategy===Z_RLE?deflate_rle(r,e):configuration_table[r.level].func(r,e);if(_!==BS_FINISH_STARTED&&_!==BS_FINISH_DONE||(r.status=FINISH_STATE),_===BS_NEED_MORE||_===BS_FINISH_STARTED)return 0===t.avail_out&&(r.last_flush=-1),Z_OK$1;if(_===BS_BLOCK_DONE&&(e===Z_PARTIAL_FLUSH?trees._tr_align(r):e!==Z_BLOCK&&(trees._tr_stored_block(r,0,0,!1),e===Z_FULL_FLUSH&&(zero(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),flush_pending(t),0===t.avail_out))return r.last_flush=-1,Z_OK$1}return e!==Z_FINISH$1?Z_OK$1:r.wrap<=0?Z_STREAM_END$1:(2===r.wrap?(put_byte(r,255&t.adler),put_byte(r,t.adler>>8&255),put_byte(r,t.adler>>16&255),put_byte(r,t.adler>>24&255),put_byte(r,255&t.total_in),put_byte(r,t.total_in>>8&255),put_byte(r,t.total_in>>16&255),put_byte(r,t.total_in>>24&255)):(putShortMSB(r,t.adler>>>16),putShortMSB(r,65535&t.adler)),flush_pending(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?Z_OK$1:Z_STREAM_END$1)}function deflateEnd(t){var e;return t&&t.state?(e=t.state.status,e!==INIT_STATE&&e!==EXTRA_STATE&&e!==NAME_STATE&&e!==COMMENT_STATE&&e!==HCRC_STATE&&e!==BUSY_STATE&&e!==FINISH_STATE?err(t,Z_STREAM_ERROR):(t.state=null,e===BUSY_STATE?err(t,Z_DATA_ERROR):Z_OK$1)):Z_STREAM_ERROR}function deflateSetDictionary(t,e){var n,r,a,i,s,o,_,l,h=e.length;if(!t||!t.state)return Z_STREAM_ERROR;if(n=t.state,i=n.wrap,2===i||1===i&&n.status!==INIT_STATE||n.lookahead)return Z_STREAM_ERROR;for(1===i&&(t.adler=adler32(t.adler,e,h,0)),n.wrap=0,h>=n.w_size&&(0===i&&(zero(n.head),n.strstart=0,n.block_start=0,n.insert=0),l=new utils$1.Buf8(n.w_size),utils$1.arraySet(l,e,h-n.w_size,n.w_size,0),e=l,h=n.w_size),s=t.avail_in,o=t.next_in,_=t.input,t.avail_in=h,t.next_in=0,t.input=e,fill_window(n);n.lookahead>=MIN_MATCH;){r=n.strstart,a=n.lookahead-(MIN_MATCH-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+MIN_MATCH-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++;while(--a);n.strstart=r,n.lookahead=MIN_MATCH-1,fill_window(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=MIN_MATCH-1,n.match_available=0,t.next_in=o,t.input=_,t.avail_in=s,n.wrap=i,Z_OK$1}function buf2binstring(t,e){if(e<65537&&(t.subarray&&STR_APPLY_UIA_OK||!t.subarray&&STR_APPLY_OK))return String.fromCharCode.apply(null,utils$3.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}function ZStream$1(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function Deflate(t){if(!(this instanceof Deflate))return new Deflate(t);this.options=utils.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var n=zlib_deflate.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==Z_OK)throw new Error(msg[n]);if(e.header&&zlib_deflate.deflateSetHeader(this.strm,e.header),e.dictionary){var r;if(r="string"==typeof e.dictionary?strings.string2buf(e.dictionary):"[object ArrayBuffer]"===toString.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=zlib_deflate.deflateSetDictionary(this.strm,r),n!==Z_OK)throw new Error(msg[n]);this._dict_set=!0}}function deflate$1(t,e){var n=new Deflate(e);if(n.push(t,!0),n.err)throw n.msg;return n.result}function deflateRaw(t,e){return e=e||{},e.raw=!0,deflate$1(t,e)}function gzip(t,e){return e=e||{},e.gzip=!0,deflate$1(t,e)}function zswap32(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils$5.Buf16(320),this.work=new utils$5.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=HEAD,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new utils$5.Buf32(ENOUGH_LENS),e.distcode=e.distdyn=new utils$5.Buf32(ENOUGH_DISTS),e.sane=1,e.back=-1,Z_OK$2):Z_STREAM_ERROR$1}function inflateReset(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,inflateResetKeep(t)):Z_STREAM_ERROR$1}function inflateReset2(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15)?Z_STREAM_ERROR$1:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,inflateReset(t))):Z_STREAM_ERROR$1}function inflateInit2(t,e){var n,r;return t?(r=new InflateState,t.state=r,r.window=null,n=inflateReset2(t,e),n!==Z_OK$2&&(t.state=null),n):Z_STREAM_ERROR$1}function inflateInit(t){return inflateInit2(t,DEF_WBITS)}function fixedtables(t){if(virgin){var e;for(lenfix=new utils$5.Buf32(512),distfix=new utils$5.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(inflate_table$1(LENS,t.lens,0,288,lenfix,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;inflate_table$1(DISTS,t.lens,0,32,distfix,0,t.work,{bits:5}),virgin=!1}t.lencode=lenfix,t.lenbits=9,t.distcode=distfix,t.distbits=5}function updatewindow(t,e,n,r){var a,i=t.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new utils$5.Buf8(i.wsize)),r>=i.wsize?(utils$5.arraySet(i.window,e,n-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>r&&(a=r),utils$5.arraySet(i.window,e,n-r,a,i.wnext),r-=a,r?(utils$5.arraySet(i.window,e,n-r,r,0),i.wnext=r,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0}function inflate$2(t,e){var n,r,a,i,s,o,_,l,h,f,c,d,u,b,E,g,p,y,w,A,m,S,T,v,k=0,R=new utils$5.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return Z_STREAM_ERROR$1;n=t.state,n.mode===TYPE&&(n.mode=TYPEDO),s=t.next_out,a=t.output,_=t.avail_out,i=t.next_in,r=t.input,o=t.avail_in,l=n.hold,h=n.bits,f=o,c=_,S=Z_OK$2;t:for(;;)switch(n.mode){case HEAD:if(0===n.wrap){n.mode=TYPEDO;break}for(;h<16;){if(0===o)break t;o--,l+=r[i++]<<h,h+=8}if(2&n.wrap&&35615===l){n.check=0,R[0]=255&l,R[1]=l>>>8&255,n.check=crc32$2(n.check,R,2,0),l=0,h=0,n.mode=FLAGS;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&l)<<8)+(l>>8))%31){t.msg="incorrect header check",n.mode=BAD;break}if((15&l)!==Z_DEFLATED$2){t.msg="unknown compression method",n.mode=BAD;break}if(l>>>=4,h-=4,m=(15&l)+8,0===n.wbits)n.wbits=m;else if(m>n.wbits){t.msg="invalid window size",n.mode=BAD;break}n.dmax=1<<m,t.adler=n.check=1,n.mode=512&l?DICTID:TYPE,l=0,h=0;break;case FLAGS:for(;h<16;){if(0===o)break t;o--,l+=r[i++]<<h,h+=8}if(n.flags=l,(255&n.flags)!==Z_DEFLATED$2){t.msg="unknown compression method",n.mode=BAD;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=BAD;break}n.head&&(n.head.text=l>>8&1),512&n.flags&&(R[0]=255&l,R[1]=l>>>8&255,n.check=crc32$2(n.check,R,2,0)),l=0,h=0,n.mode=TIME;case TIME:for(;h<32;){if(0===o)break t;o--,l+=r[i++]<<h,h+=8}n.head&&(n.head.time=l),512&n.flags&&(R[0]=255&l,R[1]=l>>>8&255,R[2]=l>>>16&255,R[3]=l>>>24&255,n.check=crc32$2(n.check,R,4,0)),l=0,h=0,n.mode=OS;case OS:for(;h<16;){if(0===o)break t;o--,l+=r[i++]<<h,h+=8}n.head&&(n.head.xflags=255&l,n.head.os=l>>8),512&n.flags&&(R[0]=255&l,R[1]=l>>>8&255,n.check=crc32$2(n.check,R,2,0)),l=0,h=0,n.mode=EXLEN;case EXLEN:if(1024&n.flags){for(;h<16;){if(0===o)break t;o--,l+=r[i++]<<h,h+=8}n.length=l,n.head&&(n.head.extra_len=l),512&n.flags&&(R[0]=255&l,R[1]=l>>>8&255,n.check=crc32$2(n.check,R,2,0)),l=0,h=0}else n.head&&(n.head.extra=null);n.mode=EXTRA;case EXTRA:if(1024&n.flags&&(d=n.length,d>o&&(d=o),d&&(n.head&&(m=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),utils$5.arraySet(n.head.extra,r,i,d,m)),512&n.flags&&(n.check=crc32$2(n.check,r,d,i)),o-=d,i+=d,n.length-=d),n.length))break t;n.length=0,n.mode=NAME;case NAME:if(2048&n.flags){if(0===o)break t;d=0;do m=r[i+d++],n.head&&m&&n.length<65536&&(n.head.name+=String.fromCharCode(m));while(m&&d<o);if(512&n.flags&&(n.check=crc32$2(n.check,r,d,i)),o-=d,i+=d,m)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=COMMENT;case COMMENT:if(4096&n.flags){if(0===o)break t;d=0;do m=r[i+d++],n.head&&m&&n.length<65536&&(n.head.comment+=String.fromCharCode(m));while(m&&d<o);if(512&n.flags&&(n.check=crc32$2(n.check,r,d,i)),
o-=d,i+=d,m)break t}else n.head&&(n.head.comment=null);n.mode=HCRC;case HCRC:if(512&n.flags){for(;h<16;){if(0===o)break t;o--,l+=r[i++]<<h,h+=8}if(l!==(65535&n.check)){t.msg="header crc mismatch",n.mode=BAD;break}l=0,h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=TYPE;break;case DICTID:for(;h<32;){if(0===o)break t;o--,l+=r[i++]<<h,h+=8}t.adler=n.check=zswap32(l),l=0,h=0,n.mode=DICT;case DICT:if(0===n.havedict)return t.next_out=s,t.avail_out=_,t.next_in=i,t.avail_in=o,n.hold=l,n.bits=h,Z_NEED_DICT;t.adler=n.check=1,n.mode=TYPE;case TYPE:if(e===Z_BLOCK$1||e===Z_TREES)break t;case TYPEDO:if(n.last){l>>>=7&h,h-=7&h,n.mode=CHECK;break}for(;h<3;){if(0===o)break t;o--,l+=r[i++]<<h,h+=8}switch(n.last=1&l,l>>>=1,h-=1,3&l){case 0:n.mode=STORED;break;case 1:if(fixedtables(n),n.mode=LEN_,e===Z_TREES){l>>>=2,h-=2;break t}break;case 2:n.mode=TABLE;break;case 3:t.msg="invalid block type",n.mode=BAD}l>>>=2,h-=2;break;case STORED:for(l>>>=7&h,h-=7&h;h<32;){if(0===o)break t;o--,l+=r[i++]<<h,h+=8}if((65535&l)!==(l>>>16^65535)){t.msg="invalid stored block lengths",n.mode=BAD;break}if(n.length=65535&l,l=0,h=0,n.mode=COPY_,e===Z_TREES)break t;case COPY_:n.mode=COPY;case COPY:if(d=n.length){if(d>o&&(d=o),d>_&&(d=_),0===d)break t;utils$5.arraySet(a,r,i,d,s),o-=d,i+=d,_-=d,s+=d,n.length-=d;break}n.mode=TYPE;break;case TABLE:for(;h<14;){if(0===o)break t;o--,l+=r[i++]<<h,h+=8}if(n.nlen=(31&l)+257,l>>>=5,h-=5,n.ndist=(31&l)+1,l>>>=5,h-=5,n.ncode=(15&l)+4,l>>>=4,h-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=BAD;break}n.have=0,n.mode=LENLENS;case LENLENS:for(;n.have<n.ncode;){for(;h<3;){if(0===o)break t;o--,l+=r[i++]<<h,h+=8}n.lens[M[n.have++]]=7&l,l>>>=3,h-=3}for(;n.have<19;)n.lens[M[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},S=inflate_table$1(CODES,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,S){t.msg="invalid code lengths set",n.mode=BAD;break}n.have=0,n.mode=CODELENS;case CODELENS:for(;n.have<n.nlen+n.ndist;){for(;k=n.lencode[l&(1<<n.lenbits)-1],E=k>>>24,g=k>>>16&255,p=65535&k,!(E<=h);){if(0===o)break t;o--,l+=r[i++]<<h,h+=8}if(p<16)l>>>=E,h-=E,n.lens[n.have++]=p;else{if(16===p){for(v=E+2;h<v;){if(0===o)break t;o--,l+=r[i++]<<h,h+=8}if(l>>>=E,h-=E,0===n.have){t.msg="invalid bit length repeat",n.mode=BAD;break}m=n.lens[n.have-1],d=3+(3&l),l>>>=2,h-=2}else if(17===p){for(v=E+3;h<v;){if(0===o)break t;o--,l+=r[i++]<<h,h+=8}l>>>=E,h-=E,m=0,d=3+(7&l),l>>>=3,h-=3}else{for(v=E+7;h<v;){if(0===o)break t;o--,l+=r[i++]<<h,h+=8}l>>>=E,h-=E,m=0,d=11+(127&l),l>>>=7,h-=7}if(n.have+d>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=BAD;break}for(;d--;)n.lens[n.have++]=m}}if(n.mode===BAD)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=BAD;break}if(n.lenbits=9,T={bits:n.lenbits},S=inflate_table$1(LENS,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,S){t.msg="invalid literal/lengths set",n.mode=BAD;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},S=inflate_table$1(DISTS,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,S){t.msg="invalid distances set",n.mode=BAD;break}if(n.mode=LEN_,e===Z_TREES)break t;case LEN_:n.mode=LEN;case LEN:if(o>=6&&_>=258){t.next_out=s,t.avail_out=_,t.next_in=i,t.avail_in=o,n.hold=l,n.bits=h,inflate_fast$1(t,c),s=t.next_out,a=t.output,_=t.avail_out,i=t.next_in,r=t.input,o=t.avail_in,l=n.hold,h=n.bits,n.mode===TYPE&&(n.back=-1);break}for(n.back=0;k=n.lencode[l&(1<<n.lenbits)-1],E=k>>>24,g=k>>>16&255,p=65535&k,!(E<=h);){if(0===o)break t;o--,l+=r[i++]<<h,h+=8}if(g&&0===(240&g)){for(y=E,w=g,A=p;k=n.lencode[A+((l&(1<<y+w)-1)>>y)],E=k>>>24,g=k>>>16&255,p=65535&k,!(y+E<=h);){if(0===o)break t;o--,l+=r[i++]<<h,h+=8}l>>>=y,h-=y,n.back+=y}if(l>>>=E,h-=E,n.back+=E,n.length=p,0===g){n.mode=LIT;break}if(32&g){n.back=-1,n.mode=TYPE;break}if(64&g){t.msg="invalid literal/length code",n.mode=BAD;break}n.extra=15&g,n.mode=LENEXT;case LENEXT:if(n.extra){for(v=n.extra;h<v;){if(0===o)break t;o--,l+=r[i++]<<h,h+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=DIST;case DIST:for(;k=n.distcode[l&(1<<n.distbits)-1],E=k>>>24,g=k>>>16&255,p=65535&k,!(E<=h);){if(0===o)break t;o--,l+=r[i++]<<h,h+=8}if(0===(240&g)){for(y=E,w=g,A=p;k=n.distcode[A+((l&(1<<y+w)-1)>>y)],E=k>>>24,g=k>>>16&255,p=65535&k,!(y+E<=h);){if(0===o)break t;o--,l+=r[i++]<<h,h+=8}l>>>=y,h-=y,n.back+=y}if(l>>>=E,h-=E,n.back+=E,64&g){t.msg="invalid distance code",n.mode=BAD;break}n.offset=p,n.extra=15&g,n.mode=DISTEXT;case DISTEXT:if(n.extra){for(v=n.extra;h<v;){if(0===o)break t;o--,l+=r[i++]<<h,h+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=BAD;break}n.mode=MATCH;case MATCH:if(0===_)break t;if(d=c-_,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=BAD;break}d>n.wnext?(d-=n.wnext,u=n.wsize-d):u=n.wnext-d,d>n.length&&(d=n.length),b=n.window}else b=a,u=s-n.offset,d=n.length;d>_&&(d=_),_-=d,n.length-=d;do a[s++]=b[u++];while(--d);0===n.length&&(n.mode=LEN);break;case LIT:if(0===_)break t;a[s++]=n.length,_--,n.mode=LEN;break;case CHECK:if(n.wrap){for(;h<32;){if(0===o)break t;o--,l|=r[i++]<<h,h+=8}if(c-=_,t.total_out+=c,n.total+=c,c&&(t.adler=n.check=n.flags?crc32$2(n.check,a,c,s-c):adler32$2(n.check,a,c,s-c)),c=_,(n.flags?l:zswap32(l))!==n.check){t.msg="incorrect data check",n.mode=BAD;break}l=0,h=0}n.mode=LENGTH;case LENGTH:if(n.wrap&&n.flags){for(;h<32;){if(0===o)break t;o--,l+=r[i++]<<h,h+=8}if(l!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=BAD;break}l=0,h=0}n.mode=DONE;case DONE:S=Z_STREAM_END$2;break t;case BAD:S=Z_DATA_ERROR$1;break t;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR$1}return t.next_out=s,t.avail_out=_,t.next_in=i,t.avail_in=o,n.hold=l,n.bits=h,(n.wsize||c!==t.avail_out&&n.mode<BAD&&(n.mode<CHECK||e!==Z_FINISH$2))&&updatewindow(t,t.output,t.next_out,c-t.avail_out)?(n.mode=MEM,Z_MEM_ERROR):(f-=t.avail_in,c-=t.avail_out,t.total_in+=f,t.total_out+=c,n.total+=c,n.wrap&&c&&(t.adler=n.check=n.flags?crc32$2(n.check,a,c,t.next_out-c):adler32$2(n.check,a,c,t.next_out-c)),t.data_type=n.bits+(n.last?64:0)+(n.mode===TYPE?128:0)+(n.mode===LEN_||n.mode===COPY_?256:0),(0===f&&0===c||e===Z_FINISH$2)&&S===Z_OK$2&&(S=Z_BUF_ERROR$1),S)}function inflateEnd(t){if(!t||!t.state)return Z_STREAM_ERROR$1;var e=t.state;return e.window&&(e.window=null),t.state=null,Z_OK$2}function inflateGetHeader(t,e){var n;return t&&t.state?(n=t.state,0===(2&n.wrap)?Z_STREAM_ERROR$1:(n.head=e,e.done=!1,Z_OK$2)):Z_STREAM_ERROR$1}function inflateSetDictionary(t,e){var n,r,a,i=e.length;return t&&t.state?(n=t.state,0!==n.wrap&&n.mode!==DICT?Z_STREAM_ERROR$1:n.mode===DICT&&(r=1,r=adler32$2(r,e,i,0),r!==n.check)?Z_DATA_ERROR$1:(a=updatewindow(t,e,i,i))?(n.mode=MEM,Z_MEM_ERROR):(n.havedict=1,Z_OK$2)):Z_STREAM_ERROR$1}function GZheader$1(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}function Inflate(t){if(!(this instanceof Inflate))return new Inflate(t);this.options=utils$4.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream$2,this.strm.avail_out=0;var n=zlib_inflate.inflateInit2(this.strm,e.windowBits);if(n!==c.Z_OK)throw new Error(msg$2[n]);this.header=new GZheader,zlib_inflate.inflateGetHeader(this.strm,this.header)}function inflate$1(t,e){var n=new Inflate(e);if(n.push(t,!0),n.err)throw n.msg;return n.result}function inflateRaw(t,e){return e=e||{},e.raw=!0,inflate$1(t,e)}function placeHoldersCount(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function byteLength(t){return 3*t.length/4-placeHoldersCount(t)}function toByteArray(t){var e,n,r,a,i,s,o=t.length;i=placeHoldersCount(t),s=new Arr(3*o/4-i),r=i>0?o-4:o;var _=0;for(e=0,n=0;e<r;e+=4,n+=3)a=revLookup[t.charCodeAt(e)]<<18|revLookup[t.charCodeAt(e+1)]<<12|revLookup[t.charCodeAt(e+2)]<<6|revLookup[t.charCodeAt(e+3)],s[_++]=a>>16&255,s[_++]=a>>8&255,s[_++]=255&a;return 2===i?(a=revLookup[t.charCodeAt(e)]<<2|revLookup[t.charCodeAt(e+1)]>>4,s[_++]=255&a):1===i&&(a=revLookup[t.charCodeAt(e)]<<10|revLookup[t.charCodeAt(e+1)]<<4|revLookup[t.charCodeAt(e+2)]>>2,s[_++]=a>>8&255,s[_++]=255&a),s}function tripletToBase64(t){return lookup[t>>18&63]+lookup[t>>12&63]+lookup[t>>6&63]+lookup[63&t]}function encodeChunk(t,e,n){for(var r,a=[],i=e;i<n;i+=3)r=(t[i]<<16)+(t[i+1]<<8)+t[i+2],a.push(tripletToBase64(r));return a.join("")}function fromByteArray(t){for(var e,n=t.length,r=n%3,a="",i=[],s=16383,o=0,_=n-r;o<_;o+=s)i.push(encodeChunk(t,o,o+s>_?_:o+s));return 1===r?(e=t[n-1],a+=lookup[e>>2],a+=lookup[e<<4&63],a+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],a+=lookup[e>>10],a+=lookup[e>>4&63],a+=lookup[e<<2&63],a+="="),i.push(a),i.join("")}var crypto=_interopDefault(require("crypto")),common=createCommonjsModule(function(t,e){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,n,r,a){if(e.subarray&&t.subarray)return void t.set(e.subarray(n,n+r),a);for(var i=0;i<r;i++)t[a+i]=e[n+i]},flattenChunks:function(t){var e,n,r,a,i,s;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(s=new Uint8Array(r),a=0,e=0,n=t.length;e<n;e++)i=t[e],s.set(i,a),a+=i.length;return s}},a={arraySet:function(t,e,n,r,a){for(var i=0;i<r;i++)t[a+i]=e[n+i]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(n)}),utils$2=common,Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2,STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],DIST_CODE_LEN=512,static_ltree=new Array(2*(L_CODES$1+2));zero$1(static_ltree);var static_dtree=new Array(2*D_CODES$1);zero$1(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);var _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);var base_length=new Array(LENGTH_CODES$1);zero$1(base_length);var base_dist=new Array(D_CODES$1);zero$1(base_dist);var static_l_desc,static_d_desc,static_bl_desc,configuration_table,static_init_done=!1,_tr_init_1=_tr_init,_tr_stored_block_1=_tr_stored_block,_tr_flush_block_1=_tr_flush_block,_tr_tally_1=_tr_tally,_tr_align_1=_tr_align,trees$1={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1},adler32_1=adler32$1,crcTable=makeTable(),crc32_1=crc32$1,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},utils$1=common,trees=trees$1,adler32=adler32_1,crc32=crc32_1,msg$1=messages,Z_NO_FLUSH$1=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH$1=4,Z_BLOCK=5,Z_OK$1=0,Z_STREAM_END$1=1,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_BUF_ERROR=-5,Z_DEFAULT_COMPRESSION$1=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY$1=0,Z_UNKNOWN=2,Z_DEFLATED$1=8,MAX_MEM_LEVEL=9,MAX_WBITS=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3;configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)];var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo:deflateInfo},utils$3=common,STR_APPLY_OK=!0,STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,[0])}catch(t){STR_APPLY_OK=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){STR_APPLY_UIA_OK=!1}for(var _utf8len=new utils$3.Buf8(256),q=0;q<256;q++)_utf8len[q]=q>=252?6:q>=248?5:q>=240?4:q>=224?3:q>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=function(t){var e,n,r,a,i,s=t.length,o=0;for(a=0;a<s;a++)n=t.charCodeAt(a),55296===(64512&n)&&a+1<s&&(r=t.charCodeAt(a+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new utils$3.Buf8(o),i=0,a=0;i<o;a++)n=t.charCodeAt(a),55296===(64512&n)&&a+1<s&&(r=t.charCodeAt(a+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?e[i++]=n:n<2048?(e[i++]=192|n>>>6,e[i++]=128|63&n):n<65536?(e[i++]=224|n>>>12,e[i++]=128|n>>>6&63,e[i++]=128|63&n):(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63,e[i++]=128|n>>>6&63,e[i++]=128|63&n);return e},buf2binstring_1=function(t){return buf2binstring(t,t.length)},binstring2buf=function(t){for(var e=new utils$3.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},buf2string=function(t,e){var n,r,a,i,s=e||t.length,o=new Array(2*s);for(r=0,n=0;n<s;)if(a=t[n++],a<128)o[r++]=a;else if(i=_utf8len[a],i>4)o[r++]=65533,n+=i-1;else{for(a&=2===i?31:3===i?15:7;i>1&&n<s;)a=a<<6|63&t[n++],i--;i>1?o[r++]=65533:a<65536?o[r++]=a:(a-=65536,o[r++]=55296|a>>10&1023,o[r++]=56320|1023&a)}return buf2binstring(o,r)},utf8border=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128===(192&t[n]);)n--;return n<0?e:0===n?e:n+_utf8len[t[n]]>e?n:e},strings$1={string2buf:string2buf,buf2binstring:buf2binstring_1,binstring2buf:binstring2buf,buf2string:buf2string,utf8border:utf8border},zstream=ZStream$1,zlib_deflate=deflate_1$2,utils=common,strings=strings$1,msg=messages,ZStream=zstream,toString=Object.prototype.toString,Z_NO_FLUSH=0,Z_FINISH=4,Z_OK=0,Z_STREAM_END=1,Z_SYNC_FLUSH=2,Z_DEFAULT_COMPRESSION=-1,Z_DEFAULT_STRATEGY=0,Z_DEFLATED=8;Deflate.prototype.push=function(t,e){var n,r,a=this.strm,i=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:e===!0?Z_FINISH:Z_NO_FLUSH,"string"==typeof t?a.input=strings.string2buf(t):"[object ArrayBuffer]"===toString.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new utils.Buf8(i),a.next_out=0,a.avail_out=i),n=zlib_deflate.deflate(a,r),n!==Z_STREAM_END&&n!==Z_OK)return this.onEnd(n),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||r!==Z_FINISH&&r!==Z_SYNC_FLUSH)||("string"===this.options.to?this.onData(strings.buf2binstring(utils.shrinkBuf(a.output,a.next_out))):this.onData(utils.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&n!==Z_STREAM_END);return r===Z_FINISH?(n=zlib_deflate.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Z_OK):r!==Z_SYNC_FLUSH||(this.onEnd(Z_OK),a.avail_out=0,!0)},Deflate.prototype.onData=function(t){this.chunks.push(t)},Deflate.prototype.onEnd=function(t){t===Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var lenfix,distfix,Deflate_1=Deflate,deflate_2=deflate$1,deflateRaw_1=deflateRaw,gzip_1=gzip,deflate_1={Deflate:Deflate_1,deflate:deflate_2,deflateRaw:deflateRaw_1,gzip:gzip_1},BAD$1=30,TYPE$1=12,inffast=function(t,e){var n,r,a,i,s,o,_,l,h,f,c,d,u,b,E,g,p,y,w,A,m,S,T,v,k;n=t.state,r=t.next_in,v=t.input,a=r+(t.avail_in-5),i=t.next_out,k=t.output,s=i-(e-t.avail_out),o=i+(t.avail_out-257),_=n.dmax,l=n.wsize,h=n.whave,f=n.wnext,c=n.window,d=n.hold,u=n.bits,b=n.lencode,E=n.distcode,g=(1<<n.lenbits)-1,p=(1<<n.distbits)-1;t:do{u<15&&(d+=v[r++]<<u,u+=8,d+=v[r++]<<u,u+=8),y=b[d&g];e:for(;;){if(w=y>>>24,d>>>=w,u-=w,w=y>>>16&255,0===w)k[i++]=65535&y;else{if(!(16&w)){if(0===(64&w)){y=b[(65535&y)+(d&(1<<w)-1)];continue e}if(32&w){n.mode=TYPE$1;break t}t.msg="invalid literal/length code",n.mode=BAD$1;break t}A=65535&y,w&=15,w&&(u<w&&(d+=v[r++]<<u,u+=8),A+=d&(1<<w)-1,d>>>=w,u-=w),u<15&&(d+=v[r++]<<u,u+=8,d+=v[r++]<<u,u+=8),y=E[d&p];n:for(;;){if(w=y>>>24,d>>>=w,u-=w,w=y>>>16&255,!(16&w)){if(0===(64&w)){y=E[(65535&y)+(d&(1<<w)-1)];continue n}t.msg="invalid distance code",n.mode=BAD$1;break t}if(m=65535&y,w&=15,u<w&&(d+=v[r++]<<u,u+=8,u<w&&(d+=v[r++]<<u,u+=8)),m+=d&(1<<w)-1,m>_){t.msg="invalid distance too far back",n.mode=BAD$1;break t}if(d>>>=w,u-=w,w=i-s,m>w){if(w=m-w,w>h&&n.sane){t.msg="invalid distance too far back",n.mode=BAD$1;break t}if(S=0,T=c,0===f){if(S+=l-w,w<A){A-=w;do k[i++]=c[S++];while(--w);S=i-m,T=k}}else if(f<w){if(S+=l+f-w,w-=f,w<A){A-=w;do k[i++]=c[S++];while(--w);if(S=0,f<A){w=f,A-=w;do k[i++]=c[S++];while(--w);S=i-m,T=k}}}else if(S+=f-w,w<A){A-=w;do k[i++]=c[S++];while(--w);S=i-m,T=k}for(;A>2;)k[i++]=T[S++],k[i++]=T[S++],k[i++]=T[S++],A-=3;A&&(k[i++]=T[S++],A>1&&(k[i++]=T[S++]))}else{S=i-m;do k[i++]=k[S++],k[i++]=k[S++],k[i++]=k[S++],A-=3;while(A>2);A&&(k[i++]=k[S++],A>1&&(k[i++]=k[S++]))}break}}break}}while(r<a&&i<o);A=u>>3,r-=A,u-=A<<3,d&=(1<<u)-1,t.next_in=r,t.next_out=i,t.avail_in=r<a?5+(a-r):5-(r-a),t.avail_out=i<o?257+(o-i):257-(i-o),n.hold=d,n.bits=u},utils$6=common,MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],inftrees=function(t,e,n,r,a,i,s,o){var _,l,h,f,c,d,u,b,E,g=o.bits,p=0,y=0,w=0,A=0,m=0,S=0,T=0,v=0,k=0,R=0,M=null,C=0,B=new utils$6.Buf16(MAXBITS+1),O=new utils$6.Buf16(MAXBITS+1),D=null,N=0;for(p=0;p<=MAXBITS;p++)B[p]=0;for(y=0;y<r;y++)B[e[n+y]]++;for(m=g,A=MAXBITS;A>=1&&0===B[A];A--);if(m>A&&(m=A),0===A)return a[i++]=20971520,a[i++]=20971520,o.bits=1,0;for(w=1;w<A&&0===B[w];w++);for(m<w&&(m=w),v=1,p=1;p<=MAXBITS;p++)if(v<<=1,v-=B[p],v<0)return-1;if(v>0&&(t===CODES$1||1!==A))return-1;for(O[1]=0,p=1;p<MAXBITS;p++)O[p+1]=O[p]+B[p];for(y=0;y<r;y++)0!==e[n+y]&&(s[O[e[n+y]]++]=y);if(t===CODES$1?(M=D=s,d=19):t===LENS$1?(M=lbase,C-=257,D=lext,N-=257,d=256):(M=dbase,D=dext,d=-1),R=0,y=0,p=w,c=i,S=m,T=0,h=-1,k=1<<m,f=k-1,t===LENS$1&&k>ENOUGH_LENS$1||t===DISTS$1&&k>ENOUGH_DISTS$1)return 1;for(var I=0;;){I++,u=p-T,s[y]<d?(b=0,E=s[y]):s[y]>d?(b=D[N+s[y]],E=M[C+s[y]]):(b=96,E=0),_=1<<p-T,l=1<<S,w=l;do l-=_,a[c+(R>>T)+l]=u<<24|b<<16|E|0;while(0!==l);for(_=1<<p-1;R&_;)_>>=1;if(0!==_?(R&=_-1,R+=_):R=0,y++,0===--B[p]){if(p===A)break;p=e[n+s[y]]}if(p>m&&(R&f)!==h){for(0===T&&(T=m),c+=w,S=p-T,v=1<<S;S+T<A&&(v-=B[S+T],!(v<=0));)S++,v<<=1;if(k+=1<<S,t===LENS$1&&k>ENOUGH_LENS$1||t===DISTS$1&&k>ENOUGH_DISTS$1)return 1;h=R&f,a[h]=m<<24|S<<16|c-i|0}}return 0!==R&&(a[c+R]=p-T<<24|64<<16|0),o.bits=m,0},utils$5=common,adler32$2=adler32_1,crc32$2=crc32_1,inflate_fast$1=inffast,inflate_table$1=inftrees,CODES=0,LENS=1,DISTS=2,Z_FINISH$2=4,Z_BLOCK$1=5,Z_TREES=6,Z_OK$2=0,Z_STREAM_END$2=1,Z_NEED_DICT=2,Z_STREAM_ERROR$1=-2,Z_DATA_ERROR$1=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR$1=-5,Z_DEFLATED$2=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS$1=15,DEF_WBITS=MAX_WBITS$1,virgin=!0,inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo:inflateInfo},constants$1={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},gzheader=GZheader$1,zlib_inflate=inflate_1$2,utils$4=common,strings$3=strings$1,c=constants$1,msg$2=messages,ZStream$2=zstream,GZheader=gzheader,toString$1=Object.prototype.toString;Inflate.prototype.push=function(t,e){var n,r,a,i,s,o,_=this.strm,l=this.options.chunkSize,h=this.options.dictionary,f=!1;if(this.ended)return!1;r=e===~~e?e:e===!0?c.Z_FINISH:c.Z_NO_FLUSH,"string"==typeof t?_.input=strings$3.binstring2buf(t):"[object ArrayBuffer]"===toString$1.call(t)?_.input=new Uint8Array(t):_.input=t,_.next_in=0,_.avail_in=_.input.length;do{if(0===_.avail_out&&(_.output=new utils$4.Buf8(l),_.next_out=0,_.avail_out=l),n=zlib_inflate.inflate(_,c.Z_NO_FLUSH),n===c.Z_NEED_DICT&&h&&(o="string"==typeof h?strings$3.string2buf(h):"[object ArrayBuffer]"===toString$1.call(h)?new Uint8Array(h):h,n=zlib_inflate.inflateSetDictionary(this.strm,o)),n===c.Z_BUF_ERROR&&f===!0&&(n=c.Z_OK,f=!1),n!==c.Z_STREAM_END&&n!==c.Z_OK)return this.onEnd(n),this.ended=!0,!1;_.next_out&&(0!==_.avail_out&&n!==c.Z_STREAM_END&&(0!==_.avail_in||r!==c.Z_FINISH&&r!==c.Z_SYNC_FLUSH)||("string"===this.options.to?(a=strings$3.utf8border(_.output,_.next_out),i=_.next_out-a,s=strings$3.buf2string(_.output,a),_.next_out=i,_.avail_out=l-i,i&&utils$4.arraySet(_.output,_.output,a,i,0),this.onData(s)):this.onData(utils$4.shrinkBuf(_.output,_.next_out)))),0===_.avail_in&&0===_.avail_out&&(f=!0)}while((_.avail_in>0||0===_.avail_out)&&n!==c.Z_STREAM_END);return n===c.Z_STREAM_END&&(r=c.Z_FINISH),r===c.Z_FINISH?(n=zlib_inflate.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c.Z_OK):r!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),_.avail_out=0,!0)},Inflate.prototype.onData=function(t){this.chunks.push(t)},Inflate.prototype.onEnd=function(t){t===c.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=utils$4.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Inflate_1=Inflate,inflate_2=inflate$1,inflateRaw_1=inflateRaw,ungzip=inflate$1,inflate_1={Inflate:Inflate_1,inflate:inflate_2,inflateRaw:inflateRaw_1,ungzip:ungzip},assign=common.assign,deflate=deflate_1,inflate=inflate_1,constants=constants$1,pako$1={};assign(pako$1,deflate,inflate,constants);for(var index$2=pako$1,byteLength_1=byteLength,toByteArray_1=toByteArray,fromByteArray_1=fromByteArray,lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63;var index$4={byteLength:byteLength_1,toByteArray:toByteArray_1,fromByteArray:fromByteArray_1};const t=index$2,e=index$4,n=()=>{return"undefined"!=typeof window&&window.crypto&&window.crypto.subtle&&"function"==typeof window.crypto.getRandomValues},r=()=>{const t=crypto;if("function"!=typeof t.getCiphers)return!1;const e=t.getCiphers();return e&&(e.includes("aes-256-gcm")||e.includes("aes-256-cbc"))},a=t=>{return e.fromByteArray(t)},s=t=>{return e.toByteArray(t)},o=t=>{return t.map((e,n)=>{const r=t[n].toString(8);return r.length<2?"0"+r:r}).join("")},_=t=>{if(t.length%2!==0)throw"Must have an even number of hex digits to convert to bytes";return Uint8Array.from(t.split(/.{1,2}/g).map((t,e)=>{return parseInt(t,16)}))},l=e=>{return t.deflate(e)},h=e=>{return t.inflate(e,{to:"string"})},f=t=>Buffer.from(encodeURIComponent(t)).toString("base64"),d=t=>decodeURIComponent(Buffer.from(t,"base64").toString("utf8")),u=(t,e,n,r,i)=>{console.log("passed calc mac: ",r);const s=Uint8Array.from(r),o=Uint8Array.from(n);if(n.byteLength!==i||r.byteLength<i||0===s.length)throw new Error("bad MAC length");console.log("a: ",s),console.log("b: ",o);const _=s.reduce((t,e,n)=>{return t|s[n]^o[n]},0);if(0===_)return console.log("*message is authentic*"),console.log("calculated MAC: ",a(s)),console.log("original MAC: ",a(o)),!0;throw console.log("message could not be authenticated"),console.log("calculated MAC: ",a(s)),console.log("original MAC: ",a(o)),new Error("bad MAC")};var helpers$1={hasWebCrypto:n,hasNodeCrypto:r,base64ToBytes:s,base64FromBytes:a,hexToBytes:_,hexFromBytes:o,compress:l,decompress:h,encodeBase64:f,decodeBase64:d,verifyMac:u},empty={},empty$1=Object.freeze({default:empty}),require$$0$4=empty$1&&empty$1.default||empty$1,naclFast=createCommonjsModule(function(t){!function(t){function e(t,e,n,r){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n,t[e+4]=r>>24&255,t[e+5]=r>>16&255,t[e+6]=r>>8&255,t[e+7]=255&r}function n(t,e,n,r,a){var i,s=0;for(i=0;i<a;i++)s|=t[e+i]^n[r+i];return(1&s-1>>>8)-1}function r(t,e,r,a){return n(t,e,r,a,16)}function a(t,e,r,a){return n(t,e,r,a,32)}function i(t,e,n,r){for(var a,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,_=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,l=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,h=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,c=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,u=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,b=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,E=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,g=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,p=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,y=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,w=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,A=i,m=s,S=o,T=_,v=l,k=h,R=f,M=c,C=d,B=u,O=b,D=E,N=g,I=p,$=y,L=w,Z=0;Z<20;Z+=2)a=A+N|0,v^=a<<7|a>>>25,a=v+A|0,C^=a<<9|a>>>23,a=C+v|0,N^=a<<13|a>>>19,a=N+C|0,A^=a<<18|a>>>14,a=k+m|0,B^=a<<7|a>>>25,a=B+k|0,I^=a<<9|a>>>23,a=I+B|0,m^=a<<13|a>>>19,a=m+I|0,k^=a<<18|a>>>14,a=O+R|0,$^=a<<7|a>>>25,a=$+O|0,S^=a<<9|a>>>23,a=S+$|0,R^=a<<13|a>>>19,a=R+S|0,O^=a<<18|a>>>14,a=L+D|0,T^=a<<7|a>>>25,a=T+L|0,M^=a<<9|a>>>23,a=M+T|0,D^=a<<13|a>>>19,a=D+M|0,L^=a<<18|a>>>14,a=A+T|0,m^=a<<7|a>>>25,a=m+A|0,S^=a<<9|a>>>23,a=S+m|0,T^=a<<13|a>>>19,a=T+S|0,A^=a<<18|a>>>14,a=k+v|0,R^=a<<7|a>>>25,a=R+k|0,M^=a<<9|a>>>23,a=M+R|0,v^=a<<13|a>>>19,a=v+M|0,k^=a<<18|a>>>14,a=O+B|0,D^=a<<7|a>>>25,a=D+O|0,C^=a<<9|a>>>23,a=C+D|0,B^=a<<13|a>>>19,a=B+C|0,O^=a<<18|a>>>14,a=L+$|0,N^=a<<7|a>>>25,a=N+L|0,I^=a<<9|a>>>23,a=I+N|0,$^=a<<13|a>>>19,a=$+I|0,L^=a<<18|a>>>14;A=A+i|0,m=m+s|0,S=S+o|0,T=T+_|0,v=v+l|0,k=k+h|0,R=R+f|0,M=M+c|0,C=C+d|0,B=B+u|0,O=O+b|0,D=D+E|0,N=N+g|0,I=I+p|0,$=$+y|0,L=L+w|0,t[0]=A>>>0&255,t[1]=A>>>8&255,t[2]=A>>>16&255,t[3]=A>>>24&255,t[4]=m>>>0&255,t[5]=m>>>8&255,t[6]=m>>>16&255,t[7]=m>>>24&255,t[8]=S>>>0&255,t[9]=S>>>8&255,t[10]=S>>>16&255,t[11]=S>>>24&255,t[12]=T>>>0&255,t[13]=T>>>8&255,t[14]=T>>>16&255,t[15]=T>>>24&255,t[16]=v>>>0&255,t[17]=v>>>8&255,t[18]=v>>>16&255,t[19]=v>>>24&255,t[20]=k>>>0&255,t[21]=k>>>8&255,t[22]=k>>>16&255,t[23]=k>>>24&255,t[24]=R>>>0&255,t[25]=R>>>8&255,t[26]=R>>>16&255,t[27]=R>>>24&255,t[28]=M>>>0&255,t[29]=M>>>8&255,t[30]=M>>>16&255,t[31]=M>>>24&255,t[32]=C>>>0&255,t[33]=C>>>8&255,t[34]=C>>>16&255,t[35]=C>>>24&255,t[36]=B>>>0&255,t[37]=B>>>8&255,t[38]=B>>>16&255,t[39]=B>>>24&255,t[40]=O>>>0&255,t[41]=O>>>8&255,t[42]=O>>>16&255,t[43]=O>>>24&255,t[44]=D>>>0&255,t[45]=D>>>8&255,t[46]=D>>>16&255,t[47]=D>>>24&255,t[48]=N>>>0&255,t[49]=N>>>8&255,t[50]=N>>>16&255,t[51]=N>>>24&255,t[52]=I>>>0&255,t[53]=I>>>8&255,t[54]=I>>>16&255,t[55]=I>>>24&255,t[56]=$>>>0&255,t[57]=$>>>8&255,t[58]=$>>>16&255,t[59]=$>>>24&255,t[60]=L>>>0&255,t[61]=L>>>8&255,t[62]=L>>>16&255,t[63]=L>>>24&255}function s(t,e,n,r){for(var a,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,_=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,l=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,h=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,c=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,u=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,b=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,E=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,g=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,p=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,y=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,w=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,A=i,m=s,S=o,T=_,v=l,k=h,R=f,M=c,C=d,B=u,O=b,D=E,N=g,I=p,$=y,L=w,Z=0;Z<20;Z+=2)a=A+N|0,v^=a<<7|a>>>25,a=v+A|0,C^=a<<9|a>>>23,a=C+v|0,N^=a<<13|a>>>19,a=N+C|0,A^=a<<18|a>>>14,a=k+m|0,B^=a<<7|a>>>25,a=B+k|0,I^=a<<9|a>>>23,a=I+B|0,m^=a<<13|a>>>19,a=m+I|0,k^=a<<18|a>>>14,a=O+R|0,$^=a<<7|a>>>25,a=$+O|0,S^=a<<9|a>>>23,a=S+$|0,R^=a<<13|a>>>19,a=R+S|0,O^=a<<18|a>>>14,a=L+D|0,T^=a<<7|a>>>25,a=T+L|0,M^=a<<9|a>>>23,a=M+T|0,D^=a<<13|a>>>19,a=D+M|0,L^=a<<18|a>>>14,a=A+T|0,m^=a<<7|a>>>25,a=m+A|0,S^=a<<9|a>>>23,a=S+m|0,T^=a<<13|a>>>19,a=T+S|0,A^=a<<18|a>>>14,a=k+v|0,R^=a<<7|a>>>25,a=R+k|0,M^=a<<9|a>>>23,a=M+R|0,v^=a<<13|a>>>19,a=v+M|0,k^=a<<18|a>>>14,a=O+B|0,D^=a<<7|a>>>25,a=D+O|0,C^=a<<9|a>>>23,a=C+D|0,B^=a<<13|a>>>19,a=B+C|0,O^=a<<18|a>>>14,a=L+$|0,N^=a<<7|a>>>25,a=N+L|0,I^=a<<9|a>>>23,a=I+N|0,$^=a<<13|a>>>19,a=$+I|0,L^=a<<18|a>>>14;t[0]=A>>>0&255,t[1]=A>>>8&255,t[2]=A>>>16&255,t[3]=A>>>24&255,t[4]=k>>>0&255,t[5]=k>>>8&255,t[6]=k>>>16&255,t[7]=k>>>24&255,t[8]=O>>>0&255,t[9]=O>>>8&255,t[10]=O>>>16&255,t[11]=O>>>24&255,t[12]=L>>>0&255,t[13]=L>>>8&255,t[14]=L>>>16&255,t[15]=L>>>24&255,t[16]=R>>>0&255,
t[17]=R>>>8&255,t[18]=R>>>16&255,t[19]=R>>>24&255,t[20]=M>>>0&255,t[21]=M>>>8&255,t[22]=M>>>16&255,t[23]=M>>>24&255,t[24]=C>>>0&255,t[25]=C>>>8&255,t[26]=C>>>16&255,t[27]=C>>>24&255,t[28]=B>>>0&255,t[29]=B>>>8&255,t[30]=B>>>16&255,t[31]=B>>>24&255}function o(t,e,n,r){i(t,e,n,r)}function _(t,e,n,r){s(t,e,n,r)}function l(t,e,n,r,a,i,s){var _,l,h=new Uint8Array(16),f=new Uint8Array(64);for(l=0;l<16;l++)h[l]=0;for(l=0;l<8;l++)h[l]=i[l];for(;a>=64;){for(o(f,h,s,ft),l=0;l<64;l++)t[e+l]=n[r+l]^f[l];for(_=1,l=8;l<16;l++)_=_+(255&h[l])|0,h[l]=255&_,_>>>=8;a-=64,e+=64,r+=64}if(a>0)for(o(f,h,s,ft),l=0;l<a;l++)t[e+l]=n[r+l]^f[l];return 0}function h(t,e,n,r,a){var i,s,_=new Uint8Array(16),l=new Uint8Array(64);for(s=0;s<16;s++)_[s]=0;for(s=0;s<8;s++)_[s]=r[s];for(;n>=64;){for(o(l,_,a,ft),s=0;s<64;s++)t[e+s]=l[s];for(i=1,s=8;s<16;s++)i=i+(255&_[s])|0,_[s]=255&i,i>>>=8;n-=64,e+=64}if(n>0)for(o(l,_,a,ft),s=0;s<n;s++)t[e+s]=l[s];return 0}function f(t,e,n,r,a){var i=new Uint8Array(32);_(i,r,a,ft);for(var s=new Uint8Array(8),o=0;o<8;o++)s[o]=r[o+16];return h(t,e,n,s,i)}function c(t,e,n,r,a,i,s){var o=new Uint8Array(32);_(o,i,s,ft);for(var h=new Uint8Array(8),f=0;f<8;f++)h[f]=i[f+16];return l(t,e,n,r,a,h,o)}function d(t,e,n,r,a,i){var s=new ct(i);return s.update(n,r,a),s.finish(t,e),0}function u(t,e,n,a,i,s){var o=new Uint8Array(16);return d(o,0,n,a,i,s),r(t,e,o,0)}function b(t,e,n,r,a){var i;if(n<32)return-1;for(c(t,0,e,0,n,r,a),d(t,16,t,32,n-32,t),i=0;i<16;i++)t[i]=0;return 0}function E(t,e,n,r,a){var i,s=new Uint8Array(32);if(n<32)return-1;if(f(s,0,32,r,a),0!==u(e,16,e,32,n-32,s))return-1;for(c(t,0,e,0,n,r,a),i=0;i<32;i++)t[i]=0;return 0}function g(t,e){var n;for(n=0;n<16;n++)t[n]=0|e[n]}function p(t){var e,n,r=1;for(e=0;e<16;e++)n=t[e]+r+65535,r=Math.floor(n/65536),t[e]=n-65536*r;t[0]+=r-1+37*(r-1)}function y(t,e,n){for(var r,a=~(n-1),i=0;i<16;i++)r=a&(t[i]^e[i]),t[i]^=r,e[i]^=r}function w(t,e){var n,r,a,i=Q(),s=Q();for(n=0;n<16;n++)s[n]=e[n];for(p(s),p(s),p(s),r=0;r<2;r++){for(i[0]=s[0]-65517,n=1;n<15;n++)i[n]=s[n]-65535-(i[n-1]>>16&1),i[n-1]&=65535;i[15]=s[15]-32767-(i[14]>>16&1),a=i[15]>>16&1,i[14]&=65535,y(s,i,1-a)}for(n=0;n<16;n++)t[2*n]=255&s[n],t[2*n+1]=s[n]>>8}function A(t,e){var n=new Uint8Array(32),r=new Uint8Array(32);return w(n,t),w(r,e),a(n,0,r,0)}function m(t){var e=new Uint8Array(32);return w(e,t),1&e[0]}function S(t,e){var n;for(n=0;n<16;n++)t[n]=e[2*n]+(e[2*n+1]<<8);t[15]&=32767}function T(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]+n[r]}function v(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]-n[r]}function k(t,e,n){var r,a,i=0,s=0,o=0,_=0,l=0,h=0,f=0,c=0,d=0,u=0,b=0,E=0,g=0,p=0,y=0,w=0,A=0,m=0,S=0,T=0,v=0,k=0,R=0,M=0,C=0,B=0,O=0,D=0,N=0,I=0,$=0,L=n[0],Z=n[1],x=n[2],H=n[3],z=n[4],U=n[5],F=n[6],K=n[7],Y=n[8],P=n[9],X=n[10],G=n[11],j=n[12],W=n[13],q=n[14],V=n[15];r=e[0],i+=r*L,s+=r*Z,o+=r*x,_+=r*H,l+=r*z,h+=r*U,f+=r*F,c+=r*K,d+=r*Y,u+=r*P,b+=r*X,E+=r*G,g+=r*j,p+=r*W,y+=r*q,w+=r*V,r=e[1],s+=r*L,o+=r*Z,_+=r*x,l+=r*H,h+=r*z,f+=r*U,c+=r*F,d+=r*K,u+=r*Y,b+=r*P,E+=r*X,g+=r*G,p+=r*j,y+=r*W,w+=r*q,A+=r*V,r=e[2],o+=r*L,_+=r*Z,l+=r*x,h+=r*H,f+=r*z,c+=r*U,d+=r*F,u+=r*K,b+=r*Y,E+=r*P,g+=r*X,p+=r*G,y+=r*j,w+=r*W,A+=r*q,m+=r*V,r=e[3],_+=r*L,l+=r*Z,h+=r*x,f+=r*H,c+=r*z,d+=r*U,u+=r*F,b+=r*K,E+=r*Y,g+=r*P,p+=r*X,y+=r*G,w+=r*j,A+=r*W,m+=r*q,S+=r*V,r=e[4],l+=r*L,h+=r*Z,f+=r*x,c+=r*H,d+=r*z,u+=r*U,b+=r*F,E+=r*K,g+=r*Y,p+=r*P,y+=r*X,w+=r*G,A+=r*j,m+=r*W,S+=r*q,T+=r*V,r=e[5],h+=r*L,f+=r*Z,c+=r*x,d+=r*H,u+=r*z,b+=r*U,E+=r*F,g+=r*K,p+=r*Y,y+=r*P,w+=r*X,A+=r*G,m+=r*j,S+=r*W,T+=r*q,v+=r*V,r=e[6],f+=r*L,c+=r*Z,d+=r*x,u+=r*H,b+=r*z,E+=r*U,g+=r*F,p+=r*K,y+=r*Y,w+=r*P,A+=r*X,m+=r*G,S+=r*j,T+=r*W,v+=r*q,k+=r*V,r=e[7],c+=r*L,d+=r*Z,u+=r*x,b+=r*H,E+=r*z,g+=r*U,p+=r*F,y+=r*K,w+=r*Y,A+=r*P,m+=r*X,S+=r*G,T+=r*j,v+=r*W,k+=r*q,R+=r*V,r=e[8],d+=r*L,u+=r*Z,b+=r*x,E+=r*H,g+=r*z,p+=r*U,y+=r*F,w+=r*K,A+=r*Y,m+=r*P,S+=r*X,T+=r*G,v+=r*j,k+=r*W,R+=r*q,M+=r*V,r=e[9],u+=r*L,b+=r*Z,E+=r*x,g+=r*H,p+=r*z,y+=r*U,w+=r*F,A+=r*K,m+=r*Y,S+=r*P,T+=r*X,v+=r*G,k+=r*j,R+=r*W,M+=r*q,C+=r*V,r=e[10],b+=r*L,E+=r*Z,g+=r*x,p+=r*H,y+=r*z,w+=r*U,A+=r*F,m+=r*K,S+=r*Y,T+=r*P,v+=r*X,k+=r*G,R+=r*j,M+=r*W,C+=r*q,B+=r*V,r=e[11],E+=r*L,g+=r*Z,p+=r*x,y+=r*H,w+=r*z,A+=r*U,m+=r*F,S+=r*K,T+=r*Y,v+=r*P,k+=r*X,R+=r*G;M+=r*j;C+=r*W,B+=r*q,O+=r*V,r=e[12],g+=r*L,p+=r*Z,y+=r*x,w+=r*H,A+=r*z,m+=r*U,S+=r*F,T+=r*K,v+=r*Y,k+=r*P,R+=r*X,M+=r*G,C+=r*j,B+=r*W,O+=r*q,D+=r*V,r=e[13],p+=r*L,y+=r*Z,w+=r*x,A+=r*H,m+=r*z,S+=r*U,T+=r*F,v+=r*K,k+=r*Y,R+=r*P,M+=r*X,C+=r*G,B+=r*j,O+=r*W,D+=r*q,N+=r*V,r=e[14],y+=r*L,w+=r*Z,A+=r*x,m+=r*H,S+=r*z,T+=r*U,v+=r*F,k+=r*K,R+=r*Y,M+=r*P,C+=r*X,B+=r*G,O+=r*j,D+=r*W,N+=r*q,I+=r*V,r=e[15],w+=r*L,A+=r*Z,m+=r*x,S+=r*H,T+=r*z,v+=r*U,k+=r*F,R+=r*K,M+=r*Y,C+=r*P,B+=r*X,O+=r*G,D+=r*j,N+=r*W,I+=r*q,$+=r*V,i+=38*A,s+=38*m,o+=38*S,_+=38*T,l+=38*v,h+=38*k,f+=38*R,c+=38*M,d+=38*C,u+=38*B,b+=38*O,E+=38*D,g+=38*N,p+=38*I,y+=38*$,a=1,r=i+a+65535,a=Math.floor(r/65536),i=r-65536*a,r=s+a+65535,a=Math.floor(r/65536),s=r-65536*a,r=o+a+65535,a=Math.floor(r/65536),o=r-65536*a,r=_+a+65535,a=Math.floor(r/65536),_=r-65536*a,r=l+a+65535,a=Math.floor(r/65536),l=r-65536*a,r=h+a+65535,a=Math.floor(r/65536),h=r-65536*a,r=f+a+65535,a=Math.floor(r/65536),f=r-65536*a,r=c+a+65535,a=Math.floor(r/65536),c=r-65536*a,r=d+a+65535,a=Math.floor(r/65536),d=r-65536*a,r=u+a+65535,a=Math.floor(r/65536),u=r-65536*a,r=b+a+65535,a=Math.floor(r/65536),b=r-65536*a,r=E+a+65535,a=Math.floor(r/65536),E=r-65536*a,r=g+a+65535,a=Math.floor(r/65536),g=r-65536*a,r=p+a+65535,a=Math.floor(r/65536),p=r-65536*a,r=y+a+65535,a=Math.floor(r/65536),y=r-65536*a,r=w+a+65535,a=Math.floor(r/65536),w=r-65536*a,i+=a-1+37*(a-1),a=1,r=i+a+65535,a=Math.floor(r/65536),i=r-65536*a,r=s+a+65535,a=Math.floor(r/65536),s=r-65536*a,r=o+a+65535,a=Math.floor(r/65536),o=r-65536*a,r=_+a+65535,a=Math.floor(r/65536),_=r-65536*a,r=l+a+65535,a=Math.floor(r/65536),l=r-65536*a,r=h+a+65535,a=Math.floor(r/65536),h=r-65536*a,r=f+a+65535,a=Math.floor(r/65536),f=r-65536*a,r=c+a+65535,a=Math.floor(r/65536),c=r-65536*a,r=d+a+65535,a=Math.floor(r/65536),d=r-65536*a,r=u+a+65535,a=Math.floor(r/65536),u=r-65536*a,r=b+a+65535,a=Math.floor(r/65536),b=r-65536*a,r=E+a+65535,a=Math.floor(r/65536),E=r-65536*a,r=g+a+65535,a=Math.floor(r/65536),g=r-65536*a,r=p+a+65535,a=Math.floor(r/65536),p=r-65536*a,r=y+a+65535,a=Math.floor(r/65536),y=r-65536*a,r=w+a+65535,a=Math.floor(r/65536),w=r-65536*a,i+=a-1+37*(a-1),t[0]=i,t[1]=s,t[2]=o,t[3]=_,t[4]=l,t[5]=h,t[6]=f,t[7]=c,t[8]=d,t[9]=u,t[10]=b,t[11]=E,t[12]=g,t[13]=p;t[14]=y;t[15]=w}function R(t,e){k(t,e,e)}function M(t,e){var n,r=Q();for(n=0;n<16;n++)r[n]=e[n];for(n=253;n>=0;n--)R(r,r),2!==n&&4!==n&&k(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}function C(t,e){var n,r=Q();for(n=0;n<16;n++)r[n]=e[n];for(n=250;n>=0;n--)R(r,r),1!==n&&k(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}function B(t,e,n){var r,a,i=new Uint8Array(32),s=new Float64Array(80),o=Q(),_=Q(),l=Q(),h=Q(),f=Q(),c=Q();for(a=0;a<31;a++)i[a]=e[a];for(i[31]=127&e[31]|64,i[0]&=248,S(s,n),a=0;a<16;a++)_[a]=s[a],h[a]=o[a]=l[a]=0;for(o[0]=h[0]=1,a=254;a>=0;--a)r=i[a>>>3]>>>(7&a)&1,y(o,_,r),y(l,h,r),T(f,o,l),v(o,o,l),T(l,_,h),v(_,_,h),R(h,f),R(c,o),k(o,l,o),k(l,_,f),T(f,o,l),v(o,o,l),R(_,o),v(l,h,c),k(o,l,it),T(o,o,h),k(l,l,o),k(o,h,c),k(h,_,s),R(_,f),y(o,_,r),y(l,h,r);for(a=0;a<16;a++)s[a+16]=o[a],s[a+32]=l[a],s[a+48]=_[a],s[a+64]=h[a];var d=s.subarray(32),u=s.subarray(16);return M(d,d),k(u,u,d),w(t,u),0}function O(t,e){return B(t,e,nt)}function D(t,e){return tt(e,32),O(t,e)}function N(t,e,n){var r=new Uint8Array(32);return B(r,n,e),_(t,et,r,ft)}function I(t,e,n,r,a,i){var s=new Uint8Array(32);return N(s,a,i),dt(t,e,n,r,s)}function $(t,e,n,r,a,i){var s=new Uint8Array(32);return N(s,a,i),ut(t,e,n,r,s)}function L(t,e,n,r){for(var a,i,s,o,_,l,h,f,c,d,u,b,E,g,p,y,w,A,m,S,T,v,k,R,M,C,B=new Int32Array(16),O=new Int32Array(16),D=t[0],N=t[1],I=t[2],$=t[3],L=t[4],Z=t[5],x=t[6],H=t[7],z=e[0],U=e[1],F=e[2],K=e[3],Y=e[4],P=e[5],X=e[6],G=e[7],j=0;r>=128;){for(m=0;m<16;m++)S=8*m+j,B[m]=n[S+0]<<24|n[S+1]<<16|n[S+2]<<8|n[S+3],O[m]=n[S+4]<<24|n[S+5]<<16|n[S+6]<<8|n[S+7];for(m=0;m<80;m++)if(a=D,i=N,s=I,o=$,_=L,l=Z,h=x,f=H,c=z,d=U,u=F,b=K,E=Y,g=P,p=X,y=G,T=H,v=G,k=65535&v,R=v>>>16,M=65535&T,C=T>>>16,T=(L>>>14|Y<<18)^(L>>>18|Y<<14)^(Y>>>9|L<<23),v=(Y>>>14|L<<18)^(Y>>>18|L<<14)^(L>>>9|Y<<23),k+=65535&v,R+=v>>>16,M+=65535&T,C+=T>>>16,T=L&Z^~L&x,v=Y&P^~Y&X,k+=65535&v,R+=v>>>16,M+=65535&T,C+=T>>>16,T=bt[2*m],v=bt[2*m+1],k+=65535&v,R+=v>>>16,M+=65535&T,C+=T>>>16,T=B[m%16],v=O[m%16],k+=65535&v,R+=v>>>16,M+=65535&T,C+=T>>>16,R+=k>>>16,M+=R>>>16,C+=M>>>16,w=65535&M|C<<16,A=65535&k|R<<16,T=w,v=A,k=65535&v,R=v>>>16,M=65535&T,C=T>>>16,T=(D>>>28|z<<4)^(z>>>2|D<<30)^(z>>>7|D<<25),v=(z>>>28|D<<4)^(D>>>2|z<<30)^(D>>>7|z<<25),k+=65535&v,R+=v>>>16,M+=65535&T,C+=T>>>16,T=D&N^D&I^N&I,v=z&U^z&F^U&F,k+=65535&v,R+=v>>>16,M+=65535&T,C+=T>>>16,R+=k>>>16,M+=R>>>16,C+=M>>>16,f=65535&M|C<<16,y=65535&k|R<<16,T=o,v=b,k=65535&v,R=v>>>16,M=65535&T,C=T>>>16,T=w,v=A,k+=65535&v,R+=v>>>16,M+=65535&T,C+=T>>>16,R+=k>>>16,M+=R>>>16,C+=M>>>16,o=65535&M|C<<16,b=65535&k|R<<16,N=a,I=i,$=s,L=o,Z=_,x=l,H=h,D=f,U=c,F=d,K=u,Y=b,P=E,X=g,G=p,z=y,m%16===15)for(S=0;S<16;S++)T=B[S],v=O[S],k=65535&v,R=v>>>16,M=65535&T,C=T>>>16,T=B[(S+9)%16],v=O[(S+9)%16],k+=65535&v,R+=v>>>16,M+=65535&T,C+=T>>>16,w=B[(S+1)%16],A=O[(S+1)%16],T=(w>>>1|A<<31)^(w>>>8|A<<24)^w>>>7,v=(A>>>1|w<<31)^(A>>>8|w<<24)^(A>>>7|w<<25),k+=65535&v,R+=v>>>16,M+=65535&T,C+=T>>>16,w=B[(S+14)%16],A=O[(S+14)%16],T=(w>>>19|A<<13)^(A>>>29|w<<3)^w>>>6,v=(A>>>19|w<<13)^(w>>>29|A<<3)^(A>>>6|w<<26),k+=65535&v,R+=v>>>16,M+=65535&T,C+=T>>>16,R+=k>>>16,M+=R>>>16,C+=M>>>16,B[S]=65535&M|C<<16,O[S]=65535&k|R<<16;T=D,v=z,k=65535&v,R=v>>>16,M=65535&T,C=T>>>16,T=t[0],v=e[0],k+=65535&v,R+=v>>>16,M+=65535&T,C+=T>>>16,R+=k>>>16,M+=R>>>16,C+=M>>>16,t[0]=D=65535&M|C<<16,e[0]=z=65535&k|R<<16,T=N,v=U,k=65535&v,R=v>>>16,M=65535&T,C=T>>>16,T=t[1],v=e[1],k+=65535&v,R+=v>>>16,M+=65535&T,C+=T>>>16,R+=k>>>16,M+=R>>>16,C+=M>>>16,t[1]=N=65535&M|C<<16,e[1]=U=65535&k|R<<16,T=I,v=F,k=65535&v,R=v>>>16,M=65535&T,C=T>>>16,T=t[2],v=e[2],k+=65535&v,R+=v>>>16,M+=65535&T,C+=T>>>16,R+=k>>>16,M+=R>>>16,C+=M>>>16,t[2]=I=65535&M|C<<16,e[2]=F=65535&k|R<<16,T=$,v=K,k=65535&v,R=v>>>16,M=65535&T,C=T>>>16,T=t[3],v=e[3],k+=65535&v,R+=v>>>16,M+=65535&T,C+=T>>>16,R+=k>>>16,M+=R>>>16,C+=M>>>16,t[3]=$=65535&M|C<<16,e[3]=K=65535&k|R<<16,T=L,v=Y,k=65535&v,R=v>>>16,M=65535&T,C=T>>>16,T=t[4],v=e[4],k+=65535&v,R+=v>>>16,M+=65535&T,C+=T>>>16,R+=k>>>16,M+=R>>>16,C+=M>>>16,t[4]=L=65535&M|C<<16,e[4]=Y=65535&k|R<<16,T=Z,v=P,k=65535&v,R=v>>>16,M=65535&T,C=T>>>16,T=t[5],v=e[5],k+=65535&v,R+=v>>>16,M+=65535&T,C+=T>>>16,R+=k>>>16,M+=R>>>16,C+=M>>>16,t[5]=Z=65535&M|C<<16,e[5]=P=65535&k|R<<16,T=x,v=X,k=65535&v,R=v>>>16,M=65535&T,C=T>>>16,T=t[6],v=e[6],k+=65535&v,R+=v>>>16,M+=65535&T,C+=T>>>16,R+=k>>>16,M+=R>>>16,C+=M>>>16,t[6]=x=65535&M|C<<16,e[6]=X=65535&k|R<<16,T=H,v=G,k=65535&v,R=v>>>16,M=65535&T,C=T>>>16,T=t[7],v=e[7],k+=65535&v,R+=v>>>16,M+=65535&T,C+=T>>>16,R+=k>>>16,M+=R>>>16,C+=M>>>16,t[7]=H=65535&M|C<<16,e[7]=G=65535&k|R<<16,j+=128,r-=128}return r}function Z(t,n,r){var a,i=new Int32Array(8),s=new Int32Array(8),o=new Uint8Array(256),_=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,s[0]=4089235720,s[1]=2227873595,s[2]=4271175723,s[3]=1595750129,s[4]=2917565137,s[5]=725511199,s[6]=4215389547,s[7]=327033209,L(i,s,n,r),r%=128,a=0;a<r;a++)o[a]=n[_-r+a];for(o[r]=128,r=256-128*(r<112?1:0),o[r-9]=0,e(o,r-8,_/536870912|0,_<<3),L(i,s,o,r),a=0;a<8;a++)e(t,8*a,i[a],s[a]);return 0}function x(t,e){var n=Q(),r=Q(),a=Q(),i=Q(),s=Q(),o=Q(),_=Q(),l=Q(),h=Q();v(n,t[1],t[0]),v(h,e[1],e[0]),k(n,n,h),T(r,t[0],t[1]),T(h,e[0],e[1]),k(r,r,h),k(a,t[3],e[3]),k(a,a,ot),k(i,t[2],e[2]),T(i,i,i),v(s,r,n),v(o,i,a),T(_,i,a),T(l,r,n),k(t[0],s,o),k(t[1],l,_),k(t[2],_,o),k(t[3],s,l)}function H(t,e,n){var r;for(r=0;r<4;r++)y(t[r],e[r],n)}function z(t,e){var n=Q(),r=Q(),a=Q();M(a,e[2]),k(n,e[0],a),k(r,e[1],a),w(t,r),t[31]^=m(n)<<7}function U(t,e,n){var r,a;for(g(t[0],rt),g(t[1],at),g(t[2],at),g(t[3],rt),a=255;a>=0;--a)r=n[a/8|0]>>(7&a)&1,H(t,e,r),x(e,t),x(t,t),H(t,e,r)}function F(t,e){var n=[Q(),Q(),Q(),Q()];g(n[0],_t),g(n[1],lt),g(n[2],at),k(n[3],_t,lt),U(t,n,e)}function K(t,e,n){var r,a=new Uint8Array(64),i=[Q(),Q(),Q(),Q()];for(n||tt(e,32),Z(a,e,32),a[0]&=248,a[31]&=127,a[31]|=64,F(i,a),z(t,i),r=0;r<32;r++)e[r+32]=t[r];return 0}function Y(t,e){var n,r,a,i;for(r=63;r>=32;--r){for(n=0,a=r-32,i=r-12;a<i;++a)e[a]+=n-16*e[r]*Et[a-(r-32)],n=e[a]+128>>8,e[a]-=256*n;e[a]+=n,e[r]=0}for(n=0,a=0;a<32;a++)e[a]+=n-(e[31]>>4)*Et[a],n=e[a]>>8,e[a]&=255;for(a=0;a<32;a++)e[a]-=n*Et[a];for(r=0;r<32;r++)e[r+1]+=e[r]>>8,t[r]=255&e[r]}function P(t){var e,n=new Float64Array(64);for(e=0;e<64;e++)n[e]=t[e];for(e=0;e<64;e++)t[e]=0;Y(t,n)}function X(t,e,n,r){var a,i,s=new Uint8Array(64),o=new Uint8Array(64),_=new Uint8Array(64),l=new Float64Array(64),h=[Q(),Q(),Q(),Q()];Z(s,r,32),s[0]&=248,s[31]&=127,s[31]|=64;var f=n+64;for(a=0;a<n;a++)t[64+a]=e[a];for(a=0;a<32;a++)t[32+a]=s[32+a];for(Z(_,t.subarray(32),n+32),P(_),F(h,_),z(t,h),a=32;a<64;a++)t[a]=r[a];for(Z(o,t,n+64),P(o),a=0;a<64;a++)l[a]=0;for(a=0;a<32;a++)l[a]=_[a];for(a=0;a<32;a++)for(i=0;i<32;i++)l[a+i]+=o[a]*s[i];return Y(t.subarray(32),l),f}function G(t,e){var n=Q(),r=Q(),a=Q(),i=Q(),s=Q(),o=Q(),_=Q();return g(t[2],at),S(t[1],e),R(a,t[1]),k(i,a,st),v(a,a,t[2]),T(i,t[2],i),R(s,i),R(o,s),k(_,o,s),k(n,_,a),k(n,n,i),C(n,n),k(n,n,a),k(n,n,i),k(n,n,i),k(t[0],n,i),R(r,t[0]),k(r,r,i),A(r,a)&&k(t[0],t[0],ht),R(r,t[0]),k(r,r,i),A(r,a)?-1:(m(t[0])===e[31]>>7&&v(t[0],rt,t[0]),k(t[3],t[0],t[1]),0)}function j(t,e,n,r){var i,s,o=new Uint8Array(32),_=new Uint8Array(64),l=[Q(),Q(),Q(),Q()],h=[Q(),Q(),Q(),Q()];if(s=-1,n<64)return-1;if(G(h,r))return-1;for(i=0;i<n;i++)t[i]=e[i];for(i=0;i<32;i++)t[i+32]=r[i];if(Z(_,t,n),P(_),U(l,h,_),F(h,e.subarray(32)),x(l,h),z(o,l),n-=64,a(e,0,o,0)){for(i=0;i<n;i++)t[i]=0;return-1}for(i=0;i<n;i++)t[i]=e[i+64];return s=n}function W(t,e){if(t.length!==gt)throw new Error("bad key size");if(e.length!==pt)throw new Error("bad nonce size")}function q(t,e){if(t.length!==St)throw new Error("bad public key size");if(e.length!==Tt)throw new Error("bad secret key size")}function V(){var t,e;for(e=0;e<arguments.length;e++)if("[object Uint8Array]"!==(t=Object.prototype.toString.call(arguments[e])))throw new TypeError("unexpected type "+t+", use Uint8Array")}function J(t){for(var e=0;e<t.length;e++)t[e]=0}var Q=function(t){var e,n=new Float64Array(16);if(t)for(e=0;e<t.length;e++)n[e]=t[e];return n},tt=function(){throw new Error("no PRNG")},et=new Uint8Array(16),nt=new Uint8Array(32);nt[0]=9;var rt=Q(),at=Q([1]),it=Q([56129,1]),st=Q([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),ot=Q([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),_t=Q([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),lt=Q([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),ht=Q([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]),ft=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),ct=function(t){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var e,n,r,a,i,s,o,_;e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,n=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|n<<3),r=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(n>>>10|r<<6),a=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(r>>>7|a<<9),i=255&t[8]|(255&t[9])<<8,this.r[4]=255&(a>>>4|i<<12),this.r[5]=i>>>1&8190,s=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(i>>>14|s<<2),o=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(s>>>11|o<<5),_=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(o>>>8|_<<8),this.r[9]=_>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};ct.prototype.blocks=function(t,e,n){for(var r,a,i,s,o,_,l,h,f,c,d,u,b,E,g,p,y,w,A,m=this.fin?0:2048,S=this.h[0],T=this.h[1],v=this.h[2],k=this.h[3],R=this.h[4],M=this.h[5],C=this.h[6],B=this.h[7],O=this.h[8],D=this.h[9],N=this.r[0],I=this.r[1],$=this.r[2],L=this.r[3],Z=this.r[4],x=this.r[5],H=this.r[6],z=this.r[7],U=this.r[8],F=this.r[9];n>=16;)r=255&t[e+0]|(255&t[e+1])<<8,S+=8191&r,a=255&t[e+2]|(255&t[e+3])<<8,T+=8191&(r>>>13|a<<3),i=255&t[e+4]|(255&t[e+5])<<8,v+=8191&(a>>>10|i<<6),s=255&t[e+6]|(255&t[e+7])<<8,k+=8191&(i>>>7|s<<9),o=255&t[e+8]|(255&t[e+9])<<8,R+=8191&(s>>>4|o<<12),M+=o>>>1&8191,_=255&t[e+10]|(255&t[e+11])<<8,C+=8191&(o>>>14|_<<2),l=255&t[e+12]|(255&t[e+13])<<8,B+=8191&(_>>>11|l<<5),h=255&t[e+14]|(255&t[e+15])<<8,O+=8191&(l>>>8|h<<8),D+=h>>>5|m,f=0,c=f,c+=S*N,c+=T*(5*F),c+=v*(5*U),c+=k*(5*z),c+=R*(5*H),f=c>>>13,c&=8191,c+=M*(5*x),c+=C*(5*Z),c+=B*(5*L),c+=O*(5*$),c+=D*(5*I),f+=c>>>13,c&=8191,d=f,d+=S*I,d+=T*N,d+=v*(5*F),d+=k*(5*U),d+=R*(5*z),f=d>>>13,d&=8191,d+=M*(5*H),d+=C*(5*x),d+=B*(5*Z),d+=O*(5*L),d+=D*(5*$),f+=d>>>13,d&=8191,u=f,u+=S*$,u+=T*I,u+=v*N,u+=k*(5*F),u+=R*(5*U),f=u>>>13,u&=8191,u+=M*(5*z),u+=C*(5*H),u+=B*(5*x),u+=O*(5*Z),u+=D*(5*L),f+=u>>>13,u&=8191,b=f,b+=S*L,b+=T*$,b+=v*I,b+=k*N,b+=R*(5*F),f=b>>>13,b&=8191,b+=M*(5*U),b+=C*(5*z),b+=B*(5*H),b+=O*(5*x),b+=D*(5*Z),f+=b>>>13,b&=8191,E=f,E+=S*Z,E+=T*L,E+=v*$,E+=k*I,E+=R*N,f=E>>>13,E&=8191,E+=M*(5*F),E+=C*(5*U),E+=B*(5*z),E+=O*(5*H),E+=D*(5*x),f+=E>>>13,E&=8191,g=f,g+=S*x,g+=T*Z,g+=v*L,g+=k*$,g+=R*I,f=g>>>13,g&=8191,g+=M*N,g+=C*(5*F),g+=B*(5*U),g+=O*(5*z),g+=D*(5*H),f+=g>>>13,g&=8191,p=f,p+=S*H,p+=T*x,p+=v*Z,p+=k*L,p+=R*$,f=p>>>13,p&=8191,p+=M*I,p+=C*N,p+=B*(5*F),p+=O*(5*U),p+=D*(5*z),f+=p>>>13,p&=8191,y=f,y+=S*z,y+=T*H,y+=v*x,y+=k*Z,y+=R*L,f=y>>>13,y&=8191,y+=M*$,y+=C*I,y+=B*N,y+=O*(5*F),y+=D*(5*U),f+=y>>>13,y&=8191,w=f,w+=S*U,w+=T*z,w+=v*H,w+=k*x,w+=R*Z,f=w>>>13,w&=8191,w+=M*L,w+=C*$,w+=B*I,w+=O*N,w+=D*(5*F),f+=w>>>13,w&=8191,A=f,A+=S*F,A+=T*U,A+=v*z,A+=k*H,A+=R*x,f=A>>>13,A&=8191,A+=M*Z,A+=C*L,A+=B*$,A+=O*I,A+=D*N,f+=A>>>13,A&=8191,f=(f<<2)+f|0,f=f+c|0,c=8191&f,f>>>=13,d+=f,S=c,T=d,v=u,k=b,R=E,M=g,C=p,B=y,O=w,D=A,e+=16,n-=16;this.h[0]=S,this.h[1]=T,this.h[2]=v,this.h[3]=k,this.h[4]=R,this.h[5]=M,this.h[6]=C,this.h[7]=B,this.h[8]=O,this.h[9]=D},ct.prototype.finish=function(t,e){var n,r,a,i,s=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=n,n=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,s[0]=this.h[0]+5,n=s[0]>>>13,s[0]&=8191,i=1;i<10;i++)s[i]=this.h[i]+n,n=s[i]>>>13,s[i]&=8191;for(s[9]-=8192,r=(1^n)-1,i=0;i<10;i++)s[i]&=r;for(r=~r,i=0;i<10;i++)this.h[i]=this.h[i]&r|s[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),a=this.h[0]+this.pad[0],this.h[0]=65535&a,i=1;i<8;i++)a=(this.h[i]+this.pad[i]|0)+(a>>>16)|0,this.h[i]=65535&a;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},ct.prototype.update=function(t,e,n){var r,a;if(this.leftover){for(a=16-this.leftover,a>n&&(a=n),r=0;r<a;r++)this.buffer[this.leftover+r]=t[e+r];if(n-=a,e+=a,this.leftover+=a,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(a=n-n%16,this.blocks(t,e,a),e+=a,n-=a),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=t[e+r];this.leftover+=n}};var dt=b,ut=E,bt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Et=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),gt=32,pt=24,yt=32,wt=16,At=32,mt=32,St=32,Tt=32,vt=32,kt=pt,Rt=yt,Mt=wt,Ct=64,Bt=32,Ot=64,Dt=32,Nt=64;t.lowlevel={crypto_core_hsalsa20:_,crypto_stream_xor:c,crypto_stream:f,crypto_stream_salsa20_xor:l,crypto_stream_salsa20:h,crypto_onetimeauth:d,crypto_onetimeauth_verify:u,crypto_verify_16:r,crypto_verify_32:a,crypto_secretbox:b,crypto_secretbox_open:E,crypto_scalarmult:B,crypto_scalarmult_base:O,crypto_box_beforenm:N,crypto_box_afternm:dt,crypto_box:I,crypto_box_open:$,crypto_box_keypair:D,crypto_hash:Z,crypto_sign:X,crypto_sign_keypair:K,crypto_sign_open:j,crypto_secretbox_KEYBYTES:gt,crypto_secretbox_NONCEBYTES:pt,crypto_secretbox_ZEROBYTES:yt,crypto_secretbox_BOXZEROBYTES:wt,crypto_scalarmult_BYTES:At,crypto_scalarmult_SCALARBYTES:mt,crypto_box_PUBLICKEYBYTES:St,crypto_box_SECRETKEYBYTES:Tt,crypto_box_BEFORENMBYTES:vt,crypto_box_NONCEBYTES:kt,crypto_box_ZEROBYTES:Rt,crypto_box_BOXZEROBYTES:Mt,crypto_sign_BYTES:Ct,crypto_sign_PUBLICKEYBYTES:Bt,crypto_sign_SECRETKEYBYTES:Ot,crypto_sign_SEEDBYTES:Dt,crypto_hash_BYTES:Nt},t.util||(t.util={},t.util.decodeUTF8=t.util.encodeUTF8=t.util.encodeBase64=t.util.decodeBase64=function(){throw new Error("nacl.util moved into separate package: https://github.com/dchest/tweetnacl-util-js")}),t.randomBytes=function(t){var e=new Uint8Array(t);return tt(e,t),e},t.secretbox=function(t,e,n){V(t,e,n),W(n,e);for(var r=new Uint8Array(yt+t.length),a=new Uint8Array(r.length),i=0;i<t.length;i++)r[i+yt]=t[i];return b(a,r,r.length,e,n),a.subarray(wt)},t.secretbox.open=function(t,e,n){V(t,e,n),W(n,e);for(var r=new Uint8Array(wt+t.length),a=new Uint8Array(r.length),i=0;i<t.length;i++)r[i+wt]=t[i];return!(r.length<32)&&(0===E(a,r,r.length,e,n)&&a.subarray(yt))},t.secretbox.keyLength=gt,t.secretbox.nonceLength=pt,t.secretbox.overheadLength=wt,t.scalarMult=function(t,e){if(V(t,e),t.length!==mt)throw new Error("bad n size");if(e.length!==At)throw new Error("bad p size");var n=new Uint8Array(At);return B(n,t,e),n},t.scalarMult.base=function(t){if(V(t),t.length!==mt)throw new Error("bad n size");var e=new Uint8Array(At);return O(e,t),e},t.scalarMult.scalarLength=mt,t.scalarMult.groupElementLength=At,t.box=function(e,n,r,a){var i=t.box.before(r,a);return t.secretbox(e,n,i)},t.box.before=function(t,e){V(t,e),q(t,e);var n=new Uint8Array(vt);return N(n,t,e),n},t.box.after=t.secretbox,t.box.open=function(e,n,r,a){var i=t.box.before(r,a);return t.secretbox.open(e,n,i)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(St),e=new Uint8Array(Tt);return D(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(V(t),t.length!==Tt)throw new Error("bad secret key size");var e=new Uint8Array(St);return O(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=St,t.box.secretKeyLength=Tt,t.box.sharedKeyLength=vt,t.box.nonceLength=kt,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(V(t,e),e.length!==Ot)throw new Error("bad secret key size");var n=new Uint8Array(Ct+t.length);return X(n,t,t.length,e),n},t.sign.open=function(t,e){if(2!==arguments.length)throw new Error("nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?");if(V(t,e),e.length!==Bt)throw new Error("bad public key size");var n=new Uint8Array(t.length),r=j(n,t,t.length,e);if(r<0)return null;for(var a=new Uint8Array(r),i=0;i<a.length;i++)a[i]=n[i];return a},t.sign.detached=function(e,n){for(var r=t.sign(e,n),a=new Uint8Array(Ct),i=0;i<a.length;i++)a[i]=r[i];return a},t.sign.detached.verify=function(t,e,n){if(V(t,e,n),e.length!==Ct)throw new Error("bad signature size");if(n.length!==Bt)throw new Error("bad public key size");var r,a=new Uint8Array(Ct+t.length),i=new Uint8Array(Ct+t.length);for(r=0;r<Ct;r++)a[r]=e[r];for(r=0;r<t.length;r++)a[r+Ct]=t[r];return j(i,a,a.length,n)>=0},t.sign.keyPair=function(){var t=new Uint8Array(Bt),e=new Uint8Array(Ot);return K(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(V(t),t.length!==Ot)throw new Error("bad secret key size");for(var e=new Uint8Array(Bt),n=0;n<e.length;n++)e[n]=t[32+n];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(V(t),t.length!==Dt)throw new Error("bad seed size");for(var e=new Uint8Array(Bt),n=new Uint8Array(Ot),r=0;r<32;r++)n[r]=t[r];return K(e,n,!0),{publicKey:e,secretKey:n}},t.sign.publicKeyLength=Bt,t.sign.secretKeyLength=Ot,t.sign.seedLength=Dt,t.sign.signatureLength=Ct,t.hash=function(t){V(t);var e=new Uint8Array(Nt);return Z(e,t,t.length),e},t.hash.hashLength=Nt,t.verify=function(t,e){return V(t,e),0!==t.length&&0!==e.length&&(t.length===e.length&&0===n(t,0,e,0,t.length))},t.setPRNG=function(t){tt=t},function(){var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(e&&e.getRandomValues){var n=65536;t.setPRNG(function(t,r){var a,i=new Uint8Array(r);for(a=0;a<r;a+=n)e.getRandomValues(i.subarray(a,a+Math.min(r-a,n)));for(a=0;a<r;a++)t[a]=i[a];J(i)})}else"undefined"!=typeof commonjsRequire&&(e=require$$0$4,e&&e.randomBytes&&t.setPRNG(function(t,n){var r,a=e.randomBytes(n);for(r=0;r<n;r++)t[r]=a[r];J(a)}))}()}("undefined"!=typeof t&&t.exports?t.exports:self.nacl=self.nacl||{})});const b=naclFast,E=helpers$1,g=(t,e="binary")=>{if(!t)throw"seed missing";const n=Uint8Array.from(t),r=b.scalarMult.base(n);return"base64"===e?{secretKey:E.base64FromBytes(n),publicKey:E.base64FromBytes(r)}:"hex"===e?{secretKey:E.hexFromBytes(n),publicKey:E.hexFromBytes(r)}:{secretKey:n,publicKey:r}},p=(t,e,n="binary")=>{const r=b.scalarMult(t,e);return"base64"===n?E.base64FromBytes(r):"hex"===n?E.hexFromBytes(r):r},y=(t,e)=>{},w=(t,e,n)=>{},A=t=>{},m=t=>{};var curve25519$1={keyPair:g,sharedSecret:p,sign:y,verify:w,validateSecretKey:A,validatePublicKey:m};const S=helpers$1,T=S.hasWebCrypto()?window.crypto:null,v=t=>{return T.getRandomValues(new Uint8Array(t))},k=(t,e)=>{return T.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!0,["sign"]).then(e=>T.subtle.sign({name:"HMAC",hash:"SHA-256"},e,t))},R=(t,e,n,r)=>{return T.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!0,["verify"]).then(e=>T.subtle.verify({name:"HMAC",hash:"SHA-256"},e,n,t)).then(t=>{if(!t)throw console.log("message could not be authenticated"),"bad MAC";return console.log("*message is authentic*"),t})},M=t=>{return T.subtle.digest({name:"SHA-256"},t)},C=(t,e)=>{console.log("-------------------------------------"),console.log("encrypting with web crypto AES-GCM..."),console.log("-------------------------------------");const n=v(16);return console.log("iv: ",S.base64FromBytes(n)),console.log("key: ",S.base64FromBytes(e)),T.subtle.importKey("raw",e,{name:"AES-GCM",length:256},!1,["encrypt"]).then(e=>T.subtle.encrypt({name:"AES-GCM",iv:n,tagLength:128},e,t)).then(t=>({data:new Uint8Array(t),iv:n}))},B=(t,e,n,r)=>{return console.log("-------------------------------------"),console.log("decrypting with web crypto AES-GCM..."),console.log("-------------------------------------"),console.log("iv: ",S.base64FromBytes(n)),console.log("key: ",S.base64FromBytes(e)),T.subtle.importKey("raw",e,{name:"AES-GCM"},!1,["decrypt"]).then(e=>T.subtle.decrypt({name:"AES-GCM",iv:n,tagLength:128},e,t)).then(t=>({data:t}))},O=(t,e)=>{console.log("------------------------------------------"),console.log("encrypting with web crypto AES-CBC-HMAC..."),console.log("------------------------------------------");const n=v(16);let r=[];return console.log("iv: ",S.base64FromBytes(n)),console.log("key: ",S.base64FromBytes(e)),T.subtle.importKey("raw",e,{name:"AES-CBC"},!1,["encrypt"]).then(e=>T.subtle.encrypt({name:"AES-CBC",iv:n},e,t)).then(t=>{return r=new Uint8Array(t)}).then(t=>k(t,e)).then(t=>({data:r,iv:n,mac:new Uint8Array(t)}))},D=(t,e,n,r)=>{return console.log("------------------------------------------"),console.log("decrypting with web crypto AES-CBC-HMAC..."),console.log("------------------------------------------"),console.log("iv: ",S.base64FromBytes(n)),console.log("key: ",S.base64FromBytes(e)),console.log("mac: ",S.base64FromBytes(r)),R(t,e,r,r.byteLength).then(()=>T.subtle.importKey("raw",e,{name:"AES-CBC"},!1,["decrypt"])).then(e=>T.subtle.decrypt({name:"AES-CBC",iv:n},e,t)).then(t=>({data:t}))};var webcrypto$1={getRandomBytes:v,sign:k,verify:R,hash:M,encrypt_AES_GCM:C,decrypt_AES_GCM:B,encrypt_AES_CBC_HMAC:O,decrypt_AES_CBC_HMAC:D};const N=helpers$1,I=N.hasNodeCrypto()?crypto:null,$=t=>{return I.randomBytes(t)},L=(t,e)=>new Promise((n,r)=>{const a=I.createHmac("sha256",e);a.update(t),n(a.digest())}),Z=(t,e,n,r)=>{return L(t,e).then(a=>N.verifyMac(t,e,n,a,r))},x=t=>new Promise((e,n)=>{const r=I.createHash("sha512");r.update(t),e(r.digest())}),H=(t,e)=>new Promise((n,r)=>{const a=$(16),i=I.createCipheriv("aes-256-gcm",e,a);let s=i.update(t,"utf8");s=Buffer.concat([s,i.final()]);const o=i.getAuthTag();n({data:s,iv:a,mac:o})}),z=(t,e,n,r)=>new Promise((a,i)=>{const s=I.createDecipheriv("aes-256-gcm",e,n);let o=s.setAuthTag(r).update(t);o=Buffer.concat([o,s.final()]),a({data:o})}),U=(t,e)=>new Promise((n,r)=>{const a=$(16),i=I.createCipheriv("aes-256-cbc",e,a);let s=i.update(t,"utf8");s=Buffer.concat([s,i.final()]),L(s,e).then(t=>n({data:s,iv:a,mac:t})).catch(r)}),F=(t,e,n,r)=>new Promise((a,i)=>{return Z(t,e,r,r.byteLength).then(()=>{const r=I.createDecipheriv("aes-256-cbc",e,n);let i=r.update(t);i=Buffer.concat([i,r.final()]),a({data:i})}).catch(i)});var nodecrypto$1={getRandomBytes:$,sign:L,verify:Z,hash:x,encrypt_AES_GCM:H,decrypt_AES_GCM:z,encrypt_AES_CBC_HMAC:U,decrypt_AES_CBC_HMAC:F};const K=helpers$1,Y=curve25519$1,P=webcrypto$1,X=nodecrypto$1,G={WEBCRYPTO:"webcrypto",NODE:"node"},j=()=>{return K.hasWebCrypto()?G.WEBCRYPTO:!K.hasWebCrypto()&&K.hasNodeCrypto()?G.NODE:G.WEBCRYPTO},W=({lib=G.WEBCRYPTO,size=32})=>{switch(lib){case G.NODE:return X.getRandomBytes(size);case G.WEBCRYPTO:default:return P.getRandomBytes(size)}},V=({lib=G.WEBCRYPTO,data="",key="",compressed=true,alg="aes-cbc-hmac"})=>{
const t=compressed?K.compress(data):Buffer.from(data,"utf8"),e=K.base64ToBytes(key);let n={};switch(lib){case G.NODE:n="aes-gcm"===alg?X.encrypt_AES_GCM(t,e):X.encrypt_AES_CBC_HMAC(t,e);break;case G.WEBCRYPTO:default:n="aes-gcm"==alg?P.encrypt_AES_GCM(t,e):P.encrypt_AES_CBC_HMAC(t,e)}return n.then(t=>({data:K.base64FromBytes(t.data),iv:K.base64FromBytes(t.iv),mac:t.mac?K.base64FromBytes(t.mac):""}))},J=({lib=G.WEBCRYPTO,data="",key="",iv="",mac="",compressed=true,alg="aes-cbc-hmac"})=>{const t=K.base64ToBytes(data),e=K.base64ToBytes(key),n=K.base64ToBytes(iv),r=K.base64ToBytes(mac);let a={};switch(lib){case G.NODE:a="aes-gcm"===alg?X.decrypt_AES_GCM(t,e,n,r):X.decrypt_AES_CBC_HMAC(t,e,n,r);break;case G.WEBCRYPTO:default:a="aes-gcm"===alg?P.decrypt_AES_GCM(t,e,n,r):P.decrypt_AES_CBC_HMAC(t,e,n,r)}return a.then(t=>({data:compressed?K.decompress(t.data):t.data.toString("utf8")}))};var index=Object.assign({},K,Y,{CRYPTO_LIBS:G,chooseCrypto:j,encrypt:V,decrypt:J,generateRandomBytes:W});module.exports=index;
//# sourceMappingURL=woobie.js.map
