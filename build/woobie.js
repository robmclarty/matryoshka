var woobie=function(t){"use strict";function e(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function n(t,e){return e={exports:{}},t(e,e.exports),e.exports}function r(t){for(var e=t.length;--e>=0;)t[e]=0}function a(t,e,n,r,a){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=t&&t.length}function i(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function o(t){return t<256?de[t]:de[256+(t>>>7)]}function s(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function h(t,e,n){t.bi_valid>te-n?(t.bi_buf|=e<<t.bi_valid&65535,s(t,t.bi_buf),t.bi_buf=e>>te-t.bi_valid,t.bi_valid+=n-te):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function l(t,e,n){h(t,n[2*e],n[2*e+1])}function f(t,e){var n=0;do n|=1&t,t>>>=1,n<<=1;while(--e>0);return n>>>1}function c(t){16===t.bi_valid?(s(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function u(t,e){var n,r,a,i,o,s,h=e.dyn_tree,l=e.max_code,f=e.stat_desc.static_tree,c=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,_=e.stat_desc.max_length,g=0;for(i=0;i<=$t;i++)t.bl_count[i]=0;for(h[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<Qt;n++)r=t.heap[n],i=h[2*h[2*r+1]+1]+1,i>_&&(i=_,g++),h[2*r+1]=i,r>l||(t.bl_count[i]++,o=0,r>=d&&(o=u[r-d]),s=h[2*r],t.opt_len+=s*(i+o),c&&(t.static_len+=s*(f[2*r+1]+o)));if(0!==g){do{for(i=_-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[_]--,g-=2}while(g>0);for(i=_;0!==i;i--)for(r=t.bl_count[i];0!==r;)a=t.heap[--n],a>l||(h[2*a+1]!==i&&(t.opt_len+=(i-h[2*a+1])*h[2*a],h[2*a+1]=i),r--)}}function d(t,e,n){var r,a,i=new Array($t+1),o=0;for(r=1;r<=$t;r++)i[r]=o=o+n[r-1]<<1;for(a=0;a<=e;a++){var s=t[2*a+1];0!==s&&(t[2*a]=f(i[s]++,s))}}function _(){var t,e,n,r,i,o=new Array($t+1);for(n=0,r=0;r<Wt-1;r++)for(ge[r]=n,t=0;t<1<<oe[r];t++)_e[n++]=r;for(_e[n-1]=r,i=0,r=0;r<16;r++)for(be[r]=i,t=0;t<1<<se[r];t++)de[i++]=r;for(i>>=7;r<qt;r++)for(be[r]=i<<7,t=0;t<1<<se[r]-7;t++)de[256+i++]=r;for(e=0;e<=$t;e++)o[e]=0;for(t=0;t<=143;)ce[2*t+1]=8,t++,o[8]++;for(;t<=255;)ce[2*t+1]=9,t++,o[9]++;for(;t<=279;)ce[2*t+1]=7,t++,o[7]++;for(;t<=287;)ce[2*t+1]=8,t++,o[8]++;for(d(ce,Xt+1,o),t=0;t<qt;t++)ue[2*t+1]=5,ue[2*t]=f(t,5);we=new a(ce,oe,Vt+1,Xt,$t),pe=new a(ue,se,0,qt,$t),ye=new a(new Array(0),he,0,Jt,ee)}function g(t){var e;for(e=0;e<Xt;e++)t.dyn_ltree[2*e]=0;for(e=0;e<qt;e++)t.dyn_dtree[2*e]=0;for(e=0;e<Jt;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*ne]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function b(t){t.bi_valid>8?s(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function w(t,e,n,r){b(t),r&&(s(t,n),s(t,~n)),Lt.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function p(t,e,n,r){var a=2*e,i=2*n;return t[a]<t[i]||t[a]===t[i]&&r[e]<=r[n]}function y(t,e,n){for(var r=t.heap[n],a=n<<1;a<=t.heap_len&&(a<t.heap_len&&p(e,t.heap[a+1],t.heap[a],t.depth)&&a++,!p(e,r,t.heap[a],t.depth));)t.heap[n]=t.heap[a],n=a,a<<=1;t.heap[n]=r}function m(t,e,n){var r,a,i,s,f=0;if(0!==t.last_lit)do r=t.pending_buf[t.d_buf+2*f]<<8|t.pending_buf[t.d_buf+2*f+1],a=t.pending_buf[t.l_buf+f],f++,0===r?l(t,a,e):(i=_e[a],l(t,i+Vt+1,e),s=oe[i],0!==s&&(a-=ge[i],h(t,a,s)),r--,i=o(r),l(t,i,n),s=se[i],0!==s&&(r-=be[i],h(t,r,s)));while(f<t.last_lit);l(t,ne,e)}function v(t,e){var n,r,a,i=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,h=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=Qt,n=0;n<h;n++)0!==i[2*n]?(t.heap[++t.heap_len]=l=n,t.depth[n]=0):i[2*n+1]=0;for(;t.heap_len<2;)a=t.heap[++t.heap_len]=l<2?++l:0,i[2*a]=1,t.depth[a]=0,t.opt_len--,s&&(t.static_len-=o[2*a+1]);for(e.max_code=l,n=t.heap_len>>1;n>=1;n--)y(t,i,n);a=h;do n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],y(t,i,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,i[2*a]=i[2*n]+i[2*r],t.depth[a]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,i[2*n+1]=i[2*r+1]=a,t.heap[1]=a++,y(t,i,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],u(t,e),d(i,l,t.bl_count)}function k(t,e,n){var r,a,i=-1,o=e[1],s=0,h=7,l=4;for(0===o&&(h=138,l=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)a=o,o=e[2*(r+1)+1],++s<h&&a===o||(s<l?t.bl_tree[2*a]+=s:0!==a?(a!==i&&t.bl_tree[2*a]++,t.bl_tree[2*re]++):s<=10?t.bl_tree[2*ae]++:t.bl_tree[2*ie]++,s=0,i=a,0===o?(h=138,l=3):a===o?(h=6,l=3):(h=7,l=4))}function A(t,e,n){var r,a,i=-1,o=e[1],s=0,f=7,c=4;for(0===o&&(f=138,c=3),r=0;r<=n;r++)if(a=o,o=e[2*(r+1)+1],!(++s<f&&a===o)){if(s<c){do l(t,a,t.bl_tree);while(0!==--s)}else 0!==a?(a!==i&&(l(t,a,t.bl_tree),s--),l(t,re,t.bl_tree),h(t,s-3,2)):s<=10?(l(t,ae,t.bl_tree),h(t,s-3,3)):(l(t,ie,t.bl_tree),h(t,s-11,7));s=0,i=a,0===o?(f=138,c=3):a===o?(f=6,c=3):(f=7,c=4)}}function x(t){var e;for(k(t,t.dyn_ltree,t.l_desc.max_code),k(t,t.dyn_dtree,t.d_desc.max_code),v(t,t.bl_desc),e=Jt-1;e>=3&&0===t.bl_tree[2*le[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function B(t,e,n,r){var a;for(h(t,e-257,5),h(t,n-1,5),h(t,r-4,4),a=0;a<r;a++)h(t,t.bl_tree[2*le[a]+1],3);A(t,t.dyn_ltree,e-1),A(t,t.dyn_dtree,n-1)}function E(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return Kt;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return It;for(e=32;e<Vt;e++)if(0!==t.dyn_ltree[2*e])return It;return Kt}function z(t){ve||(_(),ve=!0),t.l_desc=new i(t.dyn_ltree,we),t.d_desc=new i(t.dyn_dtree,pe),t.bl_desc=new i(t.bl_tree,ye),t.bi_buf=0,t.bi_valid=0,g(t)}function C(t,e,n,r){h(t,(Yt<<1)+(r?1:0),3),w(t,e,n,!0)}function S(t){h(t,Dt<<1,3),l(t,ne,ce),c(t)}function U(t,e,n,r){var a,i,o=0;t.level>0?(t.strm.data_type===Ht&&(t.strm.data_type=E(t)),v(t,t.l_desc),v(t,t.d_desc),o=x(t),a=t.opt_len+3+7>>>3,i=t.static_len+3+7>>>3,i<=a&&(a=i)):a=i=n+5,n+4<=a&&e!==-1?C(t,e,n,r):t.strategy===Nt||i===a?(h(t,(Dt<<1)+(r?1:0),3),m(t,ce,ue)):(h(t,(Pt<<1)+(r?1:0),3),B(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),m(t,t.dyn_ltree,t.dyn_dtree)),g(t),r&&b(t)}function M(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(_e[n]+Vt+1)]++,t.dyn_dtree[2*o(e)]++),t.last_lit===t.lit_bufsize-1}function R(t,e,n,r){for(var a=65535&t|0,i=t>>>16&65535|0,o=0;0!==n;){o=n>2e3?2e3:n,n-=o;do a=a+e[r++]|0,i=i+a|0;while(--o);a%=65521,i%=65521}return a|i<<16|0}function T(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}function O(t,e,n,r){var a=Se,i=r+n;t^=-1;for(var o=r;o<i;o++)t=t>>>8^a[255&(t^e[o])];return t^-1}function F(t,e){return t.msg=Ze[e],e}function Z(t){return(t<<1)-(t>4?9:0)}function L(t){for(var e=t.length;--e>=0;)t[e]=0}function N(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(Re.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function K(t,e){Te._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,N(t.strm)}function I(t,e){t.pending_buf[t.pending++]=e}function H(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function Y(t,e,n,r){var a=t.avail_in;return a>r&&(a=r),0===a?0:(t.avail_in-=a,Re.arraySet(e,t.input,t.next_in,a,n),1===t.state.wrap?t.adler=Oe(t.adler,e,a,n):2===t.state.wrap&&(t.adler=Fe(t.adler,e,a,n)),t.next_in+=a,t.total_in+=a,a)}function D(t,e){var n,r,a=t.max_chain_length,i=t.strstart,o=t.prev_length,s=t.nice_match,h=t.strstart>t.w_size-_n?t.strstart-(t.w_size-_n):0,l=t.window,f=t.w_mask,c=t.prev,u=t.strstart+dn,d=l[i+o-1],_=l[i+o];t.prev_length>=t.good_match&&(a>>=2),s>t.lookahead&&(s=t.lookahead);do if(n=e,l[n+o]===_&&l[n+o-1]===d&&l[n]===l[i]&&l[++n]===l[i+1]){i+=2,n++;do;while(l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&i<u);if(r=dn-(u-i),i=u-dn,r>o){if(t.match_start=e,o=r,r>=s)break;d=l[i+o-1],_=l[i+o]}}while((e=c[e&f])>h&&0!==--a);return o<=t.lookahead?o:t.lookahead}function P(t){var e,n,r,a,i,o=t.w_size;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=o+(o-_n)){Re.arraySet(t.window,t.window,o,o,0),t.match_start-=o,t.strstart-=o,t.block_start-=o,n=t.hash_size,e=n;do r=t.head[--e],t.head[e]=r>=o?r-o:0;while(--n);n=o,e=n;do r=t.prev[--e],t.prev[e]=r>=o?r-o:0;while(--n);a+=o}if(0===t.strm.avail_in)break;if(n=Y(t.strm,t.window,t.strstart+t.lookahead,a),t.lookahead+=n,t.lookahead+t.insert>=un)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+un-1])&t.hash_mask,t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<un)););}while(t.lookahead<_n&&0!==t.strm.avail_in)}function j(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(P(t),0===t.lookahead&&e===Le)return An;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,K(t,!1),0===t.strm.avail_out))return An;if(t.strstart-t.block_start>=t.w_size-_n&&(K(t,!1),0===t.strm.avail_out))return An}return t.insert=0,e===Ie?(K(t,!0),0===t.strm.avail_out?Bn:En):t.strstart>t.block_start&&(K(t,!1),0===t.strm.avail_out)?An:An}function G(t,e){for(var n,r;;){if(t.lookahead<_n){if(P(t),t.lookahead<_n&&e===Le)return An;if(0===t.lookahead)break}if(n=0,t.lookahead>=un&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+un-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-_n&&(t.match_length=D(t,n)),t.match_length>=un)if(r=Te._tr_tally(t,t.strstart-t.match_start,t.match_length-un),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=un){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+un-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=Te._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(K(t,!1),0===t.strm.avail_out))return An}return t.insert=t.strstart<un-1?t.strstart:un-1,e===Ie?(K(t,!0),0===t.strm.avail_out?Bn:En):t.last_lit&&(K(t,!1),0===t.strm.avail_out)?An:xn}function W(t,e){for(var n,r,a;;){if(t.lookahead<_n){if(P(t),t.lookahead<_n&&e===Le)return An;if(0===t.lookahead)break}if(n=0,t.lookahead>=un&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+un-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=un-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-_n&&(t.match_length=D(t,n),t.match_length<=5&&(t.strategy===Ve||t.match_length===un&&t.strstart-t.match_start>4096)&&(t.match_length=un-1)),t.prev_length>=un&&t.match_length<=t.prev_length){a=t.strstart+t.lookahead-un,r=Te._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-un),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=a&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+un-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!==--t.prev_length);if(t.match_available=0,t.match_length=un-1,t.strstart++,r&&(K(t,!1),0===t.strm.avail_out))return An}else if(t.match_available){if(r=Te._tr_tally(t,0,t.window[t.strstart-1]),r&&K(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return An}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=Te._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<un-1?t.strstart:un-1,e===Ie?(K(t,!0),0===t.strm.avail_out?Bn:En):t.last_lit&&(K(t,!1),0===t.strm.avail_out)?An:xn}function V(t,e){for(var n,r,a,i,o=t.window;;){if(t.lookahead<=dn){if(P(t),t.lookahead<=dn&&e===Le)return An;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=un&&t.strstart>0&&(a=t.strstart-1,r=o[a],r===o[++a]&&r===o[++a]&&r===o[++a])){i=t.strstart+dn;do;while(r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&a<i);t.match_length=dn-(i-a),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=un?(n=Te._tr_tally(t,1,t.match_length-un),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Te._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(K(t,!1),0===t.strm.avail_out))return An}return t.insert=0,e===Ie?(K(t,!0),0===t.strm.avail_out?Bn:En):t.last_lit&&(K(t,!1),0===t.strm.avail_out)?An:xn}function X(t,e){for(var n;;){if(0===t.lookahead&&(P(t),0===t.lookahead)){if(e===Le)return An;break}if(t.match_length=0,n=Te._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(K(t,!1),0===t.strm.avail_out))return An}return t.insert=0,e===Ie?(K(t,!0),0===t.strm.avail_out?Bn:En):t.last_lit&&(K(t,!1),0===t.strm.avail_out)?An:xn}function q(t,e,n,r,a){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=a}function J(t){t.window_size=2*t.w_size,L(t.head),t.max_lazy_match=me[t.level].max_lazy,t.good_match=me[t.level].good_length,t.nice_match=me[t.level].nice_length,t.max_chain_length=me[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=un-1,t.match_available=0,t.ins_h=0}function Q(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=tn,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Re.Buf16(2*fn),this.dyn_dtree=new Re.Buf16(2*(2*hn+1)),this.bl_tree=new Re.Buf16(2*(2*ln+1)),L(this.dyn_ltree),L(this.dyn_dtree),L(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Re.Buf16(cn+1),this.heap=new Re.Buf16(2*sn+1),L(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Re.Buf16(2*sn+1),L(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function $(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=$e,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?bn:vn,t.adler=2===e.wrap?0:1,e.last_flush=Le,Te._tr_init(e),Ye):F(t,Pe)}function tt(t){var e=$(t);return e===Ye&&J(t.state),e}function et(t,e){return t&&t.state?2!==t.state.wrap?Pe:(t.state.gzhead=e,Ye):Pe}function nt(t,e,n,r,a,i){if(!t)return Pe;var o=1;if(e===We&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),a<1||a>en||n!==tn||r<8||r>15||e<0||e>9||i<0||i>Je)return F(t,Pe);8===r&&(r=9);var s=new Q;return t.state=s,s.strm=t,s.wrap=o,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=a+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+un-1)/un),s.window=new Re.Buf8(2*s.w_size),s.head=new Re.Buf16(s.hash_size),s.prev=new Re.Buf16(s.w_size),s.lit_bufsize=1<<a+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Re.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=e,s.strategy=i,s.method=n,tt(t)}function rt(t,e){return nt(t,e,tn,nn,rn,Qe)}function at(t,e){var n,r,a,i;if(!t||!t.state||e>He||e<0)return t?F(t,Pe):Pe;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||r.status===kn&&e!==Ie)return F(t,0===t.avail_out?Ge:Pe);if(r.strm=t,n=r.last_flush,r.last_flush=e,r.status===bn)if(2===r.wrap)t.adler=0,I(r,31),I(r,139),I(r,8),r.gzhead?(I(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),I(r,255&r.gzhead.time),I(r,r.gzhead.time>>8&255),I(r,r.gzhead.time>>16&255),I(r,r.gzhead.time>>24&255),I(r,9===r.level?2:r.strategy>=Xe||r.level<2?4:0),I(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(I(r,255&r.gzhead.extra.length),I(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=Fe(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=wn):(I(r,0),I(r,0),I(r,0),I(r,0),I(r,0),I(r,9===r.level?2:r.strategy>=Xe||r.level<2?4:0),I(r,zn),r.status=vn);else{var o=tn+(r.w_bits-8<<4)<<8,s=-1;s=r.strategy>=Xe||r.level<2?0:r.level<6?1:6===r.level?2:3,o|=s<<6,0!==r.strstart&&(o|=gn),o+=31-o%31,r.status=vn,H(r,o),0!==r.strstart&&(H(r,t.adler>>>16),H(r,65535&t.adler)),t.adler=1}if(r.status===wn)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=Fe(t.adler,r.pending_buf,r.pending-a,a)),N(t),a=r.pending,r.pending!==r.pending_buf_size));)I(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=Fe(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=pn)}else r.status=pn;if(r.status===pn)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=Fe(t.adler,r.pending_buf,r.pending-a,a)),N(t),a=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,I(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>a&&(t.adler=Fe(t.adler,r.pending_buf,r.pending-a,a)),0===i&&(r.gzindex=0,r.status=yn)}else r.status=yn;if(r.status===yn)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=Fe(t.adler,r.pending_buf,r.pending-a,a)),N(t),a=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,I(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>a&&(t.adler=Fe(t.adler,r.pending_buf,r.pending-a,a)),0===i&&(r.status=mn)}else r.status=mn;if(r.status===mn&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&N(t),r.pending+2<=r.pending_buf_size&&(I(r,255&t.adler),I(r,t.adler>>8&255),t.adler=0,r.status=vn)):r.status=vn),0!==r.pending){if(N(t),0===t.avail_out)return r.last_flush=-1,Ye}else if(0===t.avail_in&&Z(e)<=Z(n)&&e!==Ie)return F(t,Ge);if(r.status===kn&&0!==t.avail_in)return F(t,Ge);if(0!==t.avail_in||0!==r.lookahead||e!==Le&&r.status!==kn){var h=r.strategy===Xe?X(r,e):r.strategy===qe?V(r,e):me[r.level].func(r,e);if(h!==Bn&&h!==En||(r.status=kn),h===An||h===Bn)return 0===t.avail_out&&(r.last_flush=-1),Ye;if(h===xn&&(e===Ne?Te._tr_align(r):e!==He&&(Te._tr_stored_block(r,0,0,!1),e===Ke&&(L(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),N(t),0===t.avail_out))return r.last_flush=-1,Ye}return e!==Ie?Ye:r.wrap<=0?De:(2===r.wrap?(I(r,255&t.adler),I(r,t.adler>>8&255),I(r,t.adler>>16&255),I(r,t.adler>>24&255),I(r,255&t.total_in),I(r,t.total_in>>8&255),I(r,t.total_in>>16&255),I(r,t.total_in>>24&255)):(H(r,t.adler>>>16),H(r,65535&t.adler)),N(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?Ye:De)}function it(t){var e;return t&&t.state?(e=t.state.status,e!==bn&&e!==wn&&e!==pn&&e!==yn&&e!==mn&&e!==vn&&e!==kn?F(t,Pe):(t.state=null,e===vn?F(t,je):Ye)):Pe}function ot(t,e){var n,r,a,i,o,s,h,l,f=e.length;if(!t||!t.state)return Pe;if(n=t.state,i=n.wrap,2===i||1===i&&n.status!==bn||n.lookahead)return Pe;for(1===i&&(t.adler=Oe(t.adler,e,f,0)),n.wrap=0,f>=n.w_size&&(0===i&&(L(n.head),n.strstart=0,n.block_start=0,n.insert=0),l=new Re.Buf8(n.w_size),Re.arraySet(l,e,f-n.w_size,n.w_size,0),e=l,f=n.w_size),o=t.avail_in,s=t.next_in,h=t.input,t.avail_in=f,t.next_in=0,t.input=e,P(n);n.lookahead>=un;){r=n.strstart,a=n.lookahead-(un-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+un-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++;while(--a);n.strstart=r,n.lookahead=un-1,P(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=un-1,n.match_available=0,t.next_in=s,t.input=h,t.avail_in=o,n.wrap=i,Ye}function st(t,e){if(e<65537&&(t.subarray&&In||!t.subarray&&Kn))return String.fromCharCode.apply(null,Nn.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}function ht(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function lt(t){if(!(this instanceof lt))return new lt(t);this.options=Jn.assign({level:sr,method:lr,chunkSize:16384,windowBits:15,memLevel:8,strategy:hr,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tr,this.strm.avail_out=0;var n=qn.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==ar)throw new Error($n[n]);if(e.header&&qn.deflateSetHeader(this.strm,e.header),e.dictionary){var r;if(r="string"==typeof e.dictionary?Qn.string2buf(e.dictionary):"[object ArrayBuffer]"===er.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=qn.deflateSetDictionary(this.strm,r),n!==ar)throw new Error($n[n]);this._dict_set=!0}}function ft(t,e){var n=new lt(e);if(n.push(t,!0),n.err)throw n.msg;return n.result}function ct(t,e){return e=e||{},e.raw=!0,ft(t,e)}function ut(t,e){return e=e||{},e.gzip=!0,ft(t,e)}function dt(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function _t(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Rr.Buf16(320),this.work=new Rr.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function gt(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=Jr,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Rr.Buf32(Sa),e.distcode=e.distdyn=new Rr.Buf32(Ua),e.sane=1,e.back=-1,Dr):Gr}function bt(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,gt(t)):Gr}function wt(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15)?Gr:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,bt(t))):Gr}function pt(t,e){var n,r;return t?(r=new _t,t.state=r,r.window=null,n=wt(t,e),n!==Dr&&(t.state=null),n):Gr}function yt(t){return pt(t,Ra)}function mt(t){if(Ta){var e;for(fr=new Rr.Buf32(512),cr=new Rr.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Zr(Nr,t.lens,0,288,fr,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Zr(Kr,t.lens,0,32,cr,0,t.work,{bits:5}),Ta=!1}t.lencode=fr,t.lenbits=9,t.distcode=cr,t.distbits=5}function vt(t,e,n,r){var a,i=t.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Rr.Buf8(i.wsize)),r>=i.wsize?(Rr.arraySet(i.window,e,n-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>r&&(a=r),Rr.arraySet(i.window,e,n-r,a,i.wnext),r-=a,r?(Rr.arraySet(i.window,e,n-r,r,0),i.wnext=r,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0}function kt(t,e){var n,r,a,i,o,s,h,l,f,c,u,d,_,g,b,w,p,y,m,v,k,A,x,B,E=0,z=new Rr.Buf8(4),C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return Gr;n=t.state,n.mode===ha&&(n.mode=la),o=t.next_out,a=t.output,h=t.avail_out,i=t.next_in,r=t.input,s=t.avail_in,l=n.hold,f=n.bits,c=s,u=h,A=Dr;t:for(;;)switch(n.mode){case Jr:if(0===n.wrap){n.mode=la;break}for(;f<16;){if(0===s)break t;s--,l+=r[i++]<<f,f+=8}if(2&n.wrap&&35615===l){n.check=0,z[0]=255&l,z[1]=l>>>8&255,n.check=Or(n.check,z,2,0),l=0,f=0,n.mode=Qr;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&l)<<8)+(l>>8))%31){t.msg="incorrect header check",n.mode=Ea;break}if((15&l)!==qr){t.msg="unknown compression method",n.mode=Ea;break}if(l>>>=4,f-=4,k=(15&l)+8,0===n.wbits)n.wbits=k;else if(k>n.wbits){t.msg="invalid window size",n.mode=Ea;break}n.dmax=1<<k,t.adler=n.check=1,n.mode=512&l?oa:ha,l=0,f=0;break;case Qr:for(;f<16;){if(0===s)break t;s--,l+=r[i++]<<f,f+=8}if(n.flags=l,(255&n.flags)!==qr){t.msg="unknown compression method",n.mode=Ea;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=Ea;break}n.head&&(n.head.text=l>>8&1),512&n.flags&&(z[0]=255&l,z[1]=l>>>8&255,n.check=Or(n.check,z,2,0)),l=0,f=0,n.mode=$r;case $r:for(;f<32;){if(0===s)break t;s--,l+=r[i++]<<f,f+=8}n.head&&(n.head.time=l),512&n.flags&&(z[0]=255&l,z[1]=l>>>8&255,z[2]=l>>>16&255,z[3]=l>>>24&255,n.check=Or(n.check,z,4,0)),l=0,f=0,n.mode=ta;case ta:for(;f<16;){if(0===s)break t;s--,l+=r[i++]<<f,f+=8}n.head&&(n.head.xflags=255&l,n.head.os=l>>8),512&n.flags&&(z[0]=255&l,z[1]=l>>>8&255,n.check=Or(n.check,z,2,0)),l=0,f=0,n.mode=ea;case ea:if(1024&n.flags){for(;f<16;){if(0===s)break t;s--,l+=r[i++]<<f,f+=8}n.length=l,n.head&&(n.head.extra_len=l),512&n.flags&&(z[0]=255&l,z[1]=l>>>8&255,n.check=Or(n.check,z,2,0)),l=0,f=0}else n.head&&(n.head.extra=null);n.mode=na;case na:if(1024&n.flags&&(d=n.length,d>s&&(d=s),d&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),Rr.arraySet(n.head.extra,r,i,d,k)),512&n.flags&&(n.check=Or(n.check,r,d,i)),s-=d,i+=d,n.length-=d),n.length))break t;n.length=0,n.mode=ra;case ra:if(2048&n.flags){if(0===s)break t;d=0;do k=r[i+d++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k));while(k&&d<s);if(512&n.flags&&(n.check=Or(n.check,r,d,i)),s-=d,i+=d,k)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=aa;case aa:if(4096&n.flags){if(0===s)break t;d=0;do k=r[i+d++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k));while(k&&d<s);if(512&n.flags&&(n.check=Or(n.check,r,d,i)),s-=d,i+=d,k)break t}else n.head&&(n.head.comment=null);n.mode=ia;case ia:if(512&n.flags){for(;f<16;){if(0===s)break t;s--,l+=r[i++]<<f,f+=8}if(l!==(65535&n.check)){t.msg="header crc mismatch",n.mode=Ea;break}l=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=ha;break;case oa:for(;f<32;){if(0===s)break t;s--,l+=r[i++]<<f,f+=8}t.adler=n.check=dt(l),l=0,f=0,n.mode=sa;case sa:if(0===n.havedict)return t.next_out=o,t.avail_out=h,t.next_in=i,t.avail_in=s,n.hold=l,n.bits=f,jr;t.adler=n.check=1,n.mode=ha;case ha:if(e===Hr||e===Yr)break t;case la:if(n.last){l>>>=7&f,f-=7&f,n.mode=Aa;break}for(;f<3;){if(0===s)break t;s--,l+=r[i++]<<f,f+=8}switch(n.last=1&l,l>>>=1,f-=1,3&l){case 0:n.mode=fa;break;case 1:if(mt(n),n.mode=ba,e===Yr){l>>>=2,f-=2;break t}break;case 2:n.mode=da;break;case 3:t.msg="invalid block type",n.mode=Ea}l>>>=2,f-=2;break;case fa:for(l>>>=7&f,f-=7&f;f<32;){if(0===s)break t;s--,l+=r[i++]<<f,f+=8}if((65535&l)!==(l>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Ea;break}if(n.length=65535&l,l=0,f=0,n.mode=ca,e===Yr)break t;case ca:n.mode=ua;case ua:if(d=n.length){if(d>s&&(d=s),d>h&&(d=h),0===d)break t;Rr.arraySet(a,r,i,d,o),s-=d,i+=d,h-=d,o+=d,n.length-=d;break}n.mode=ha;break;case da:for(;f<14;){if(0===s)break t;s--,l+=r[i++]<<f,f+=8}if(n.nlen=(31&l)+257,l>>>=5,f-=5,n.ndist=(31&l)+1,l>>>=5,f-=5,n.ncode=(15&l)+4,l>>>=4,f-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Ea;break}n.have=0,n.mode=_a;case _a:for(;n.have<n.ncode;){for(;f<3;){if(0===s)break t;s--,l+=r[i++]<<f,f+=8}n.lens[C[n.have++]]=7&l,l>>>=3,f-=3}for(;n.have<19;)n.lens[C[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,x={bits:n.lenbits},A=Zr(Lr,n.lens,0,19,n.lencode,0,n.work,x),n.lenbits=x.bits,A){t.msg="invalid code lengths set",n.mode=Ea;break}n.have=0,n.mode=ga;case ga:for(;n.have<n.nlen+n.ndist;){for(;E=n.lencode[l&(1<<n.lenbits)-1],b=E>>>24,w=E>>>16&255,p=65535&E,!(b<=f);){if(0===s)break t;s--,l+=r[i++]<<f,f+=8}if(p<16)l>>>=b,f-=b,n.lens[n.have++]=p;else{if(16===p){for(B=b+2;f<B;){if(0===s)break t;s--,l+=r[i++]<<f,f+=8}if(l>>>=b,f-=b,0===n.have){t.msg="invalid bit length repeat",n.mode=Ea;break}k=n.lens[n.have-1],d=3+(3&l),l>>>=2,f-=2}else if(17===p){for(B=b+3;f<B;){if(0===s)break t;s--,l+=r[i++]<<f,f+=8}l>>>=b,f-=b,k=0,d=3+(7&l),l>>>=3,f-=3}else{for(B=b+7;f<B;){if(0===s)break t;s--,l+=r[i++]<<f,f+=8}l>>>=b,f-=b,k=0,d=11+(127&l),l>>>=7,f-=7}if(n.have+d>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Ea;break}for(;d--;)n.lens[n.have++]=k}}if(n.mode===Ea)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=Ea;break}if(n.lenbits=9,x={bits:n.lenbits},A=Zr(Nr,n.lens,0,n.nlen,n.lencode,0,n.work,x),n.lenbits=x.bits,A){t.msg="invalid literal/lengths set",n.mode=Ea;break}if(n.distbits=6,n.distcode=n.distdyn,x={bits:n.distbits},A=Zr(Kr,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,x),n.distbits=x.bits,A){t.msg="invalid distances set",n.mode=Ea;break}if(n.mode=ba,e===Yr)break t;case ba:n.mode=wa;case wa:if(s>=6&&h>=258){t.next_out=o,t.avail_out=h,t.next_in=i,t.avail_in=s,n.hold=l,n.bits=f,Fr(t,u),o=t.next_out,a=t.output,h=t.avail_out,i=t.next_in,r=t.input,s=t.avail_in,l=n.hold,f=n.bits,n.mode===ha&&(n.back=-1);break}for(n.back=0;E=n.lencode[l&(1<<n.lenbits)-1],b=E>>>24,w=E>>>16&255,p=65535&E,!(b<=f);){if(0===s)break t;s--,l+=r[i++]<<f,f+=8}if(w&&0===(240&w)){for(y=b,m=w,v=p;E=n.lencode[v+((l&(1<<y+m)-1)>>y)],b=E>>>24,w=E>>>16&255,p=65535&E,!(y+b<=f);){if(0===s)break t;s--,l+=r[i++]<<f,f+=8}l>>>=y,f-=y,n.back+=y}if(l>>>=b,f-=b,n.back+=b,n.length=p,0===w){n.mode=ka;break}if(32&w){n.back=-1,n.mode=ha;break}if(64&w){t.msg="invalid literal/length code",n.mode=Ea;break}n.extra=15&w,n.mode=pa;case pa:if(n.extra){for(B=n.extra;f<B;){if(0===s)break t;s--,l+=r[i++]<<f,f+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=ya;case ya:for(;E=n.distcode[l&(1<<n.distbits)-1],b=E>>>24,w=E>>>16&255,p=65535&E,!(b<=f);){if(0===s)break t;s--,l+=r[i++]<<f,f+=8}if(0===(240&w)){for(y=b,m=w,v=p;E=n.distcode[v+((l&(1<<y+m)-1)>>y)],b=E>>>24,w=E>>>16&255,p=65535&E,!(y+b<=f);){if(0===s)break t;s--,l+=r[i++]<<f,f+=8}l>>>=y,f-=y,n.back+=y}if(l>>>=b,f-=b,n.back+=b,64&w){t.msg="invalid distance code",n.mode=Ea;break}n.offset=p,n.extra=15&w,n.mode=ma;case ma:if(n.extra){for(B=n.extra;f<B;){if(0===s)break t;s--,l+=r[i++]<<f,f+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Ea;break}n.mode=va;case va:if(0===h)break t;if(d=u-h,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Ea;break}d>n.wnext?(d-=n.wnext,_=n.wsize-d):_=n.wnext-d,d>n.length&&(d=n.length),g=n.window}else g=a,_=o-n.offset,d=n.length;d>h&&(d=h),h-=d,n.length-=d;do a[o++]=g[_++];while(--d);0===n.length&&(n.mode=wa);break;case ka:if(0===h)break t;a[o++]=n.length,h--,n.mode=wa;break;case Aa:if(n.wrap){for(;f<32;){if(0===s)break t;s--,l|=r[i++]<<f,f+=8}if(u-=h,t.total_out+=u,n.total+=u,u&&(t.adler=n.check=n.flags?Or(n.check,a,u,o-u):Tr(n.check,a,u,o-u)),u=h,(n.flags?l:dt(l))!==n.check){t.msg="incorrect data check",n.mode=Ea;break}l=0,f=0}n.mode=xa;case xa:if(n.wrap&&n.flags){for(;f<32;){if(0===s)break t;s--,l+=r[i++]<<f,f+=8}if(l!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=Ea;break}l=0,f=0}n.mode=Ba;case Ba:A=Pr;break t;case Ea:A=Wr;break t;case za:return Vr;case Ca:default:return Gr}return t.next_out=o,t.avail_out=h,t.next_in=i,
t.avail_in=s,n.hold=l,n.bits=f,(n.wsize||u!==t.avail_out&&n.mode<Ea&&(n.mode<Aa||e!==Ir))&&vt(t,t.output,t.next_out,u-t.avail_out)?(n.mode=za,Vr):(c-=t.avail_in,u-=t.avail_out,t.total_in+=c,t.total_out+=u,n.total+=u,n.wrap&&u&&(t.adler=n.check=n.flags?Or(n.check,a,u,t.next_out-u):Tr(n.check,a,u,t.next_out-u)),t.data_type=n.bits+(n.last?64:0)+(n.mode===ha?128:0)+(n.mode===ba||n.mode===ca?256:0),(0===c&&0===u||e===Ir)&&A===Dr&&(A=Xr),A)}function At(t){if(!t||!t.state)return Gr;var e=t.state;return e.window&&(e.window=null),t.state=null,Dr}function xt(t,e){var n;return t&&t.state?(n=t.state,0===(2&n.wrap)?Gr:(n.head=e,e.done=!1,Dr)):Gr}function Bt(t,e){var n,r,a,i=e.length;return t&&t.state?(n=t.state,0!==n.wrap&&n.mode!==sa?Gr:n.mode===sa&&(r=1,r=Tr(r,e,i,0),r!==n.check)?Wr:(a=vt(t,e,i,i))?(n.mode=za,Vr):(n.havedict=1,Dr)):Gr}function Et(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}function zt(t){if(!(this instanceof zt))return new zt(t);this.options=Va.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qa,this.strm.avail_out=0;var n=Wa.inflateInit2(this.strm,e.windowBits);if(n!==qa.Z_OK)throw new Error(Ja[n]);this.header=new $a,Wa.inflateGetHeader(this.strm,this.header)}function Ct(t,e){var n=new zt(e);if(n.push(t,!0),n.err)throw n.msg;return n.result}function St(t,e){return e=e||{},e.raw=!0,Ct(t,e)}function Ut(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function Mt(t){return 3*t.length/4-Ut(t)}function Rt(t){var e,n,r,a,i,o,s=t.length;i=Ut(t),o=new wi(3*s/4-i),r=i>0?s-4:s;var h=0;for(e=0,n=0;e<r;e+=4,n+=3)a=bi[t.charCodeAt(e)]<<18|bi[t.charCodeAt(e+1)]<<12|bi[t.charCodeAt(e+2)]<<6|bi[t.charCodeAt(e+3)],o[h++]=a>>16&255,o[h++]=a>>8&255,o[h++]=255&a;return 2===i?(a=bi[t.charCodeAt(e)]<<2|bi[t.charCodeAt(e+1)]>>4,o[h++]=255&a):1===i&&(a=bi[t.charCodeAt(e)]<<10|bi[t.charCodeAt(e+1)]<<4|bi[t.charCodeAt(e+2)]>>2,o[h++]=a>>8&255,o[h++]=255&a),o}function Tt(t){return gi[t>>18&63]+gi[t>>12&63]+gi[t>>6&63]+gi[63&t]}function Ot(t,e,n){for(var r,a=[],i=e;i<n;i+=3)r=(t[i]<<16)+(t[i+1]<<8)+t[i+2],a.push(Tt(r));return a.join("")}function Ft(t){for(var e,n=t.length,r=n%3,a="",i=[],o=16383,s=0,h=n-r;s<h;s+=o)i.push(Ot(t,s,s+o>h?h:s+o));return 1===r?(e=t[n-1],a+=gi[e>>2],a+=gi[e<<4&63],a+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],a+=gi[e>>10],a+=gi[e>>4&63],a+=gi[e<<2&63],a+="="),i.push(a),i.join("")}t="default"in t?t.default:t;var Zt=n(function(t,e){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,n,r,a){if(e.subarray&&t.subarray)return void t.set(e.subarray(n,n+r),a);for(var i=0;i<r;i++)t[a+i]=e[n+i]},flattenChunks:function(t){var e,n,r,a,i,o;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(o=new Uint8Array(r),a=0,e=0,n=t.length;e<n;e++)i=t[e],o.set(i,a),a+=i.length;return o}},a={arraySet:function(t,e,n,r,a){for(var i=0;i<r;i++)t[a+i]=e[n+i]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(n)}),Lt=Zt,Nt=4,Kt=0,It=1,Ht=2,Yt=0,Dt=1,Pt=2,jt=3,Gt=258,Wt=29,Vt=256,Xt=Vt+1+Wt,qt=30,Jt=19,Qt=2*Xt+1,$t=15,te=16,ee=7,ne=256,re=16,ae=17,ie=18,oe=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],se=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],he=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],le=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],fe=512,ce=new Array(2*(Xt+2));r(ce);var ue=new Array(2*qt);r(ue);var de=new Array(fe);r(de);var _e=new Array(Gt-jt+1);r(_e);var ge=new Array(Wt);r(ge);var be=new Array(qt);r(be);var we,pe,ye,me,ve=!1,ke=z,Ae=C,xe=U,Be=M,Ee=S,ze={_tr_init:ke,_tr_stored_block:Ae,_tr_flush_block:xe,_tr_tally:Be,_tr_align:Ee},Ce=R,Se=T(),Ue=O,Me={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Re=Zt,Te=ze,Oe=Ce,Fe=Ue,Ze=Me,Le=0,Ne=1,Ke=3,Ie=4,He=5,Ye=0,De=1,Pe=-2,je=-3,Ge=-5,We=-1,Ve=1,Xe=2,qe=3,Je=4,Qe=0,$e=2,tn=8,en=9,nn=15,rn=8,an=29,on=256,sn=on+1+an,hn=30,ln=19,fn=2*sn+1,cn=15,un=3,dn=258,_n=dn+un+1,gn=32,bn=42,wn=69,pn=73,yn=91,mn=103,vn=113,kn=666,An=1,xn=2,Bn=3,En=4,zn=3;me=[new q(0,0,0,0,j),new q(4,4,8,4,G),new q(4,5,16,8,G),new q(4,6,32,32,G),new q(4,4,16,16,W),new q(8,16,32,32,W),new q(8,16,128,128,W),new q(8,32,128,256,W),new q(32,128,258,1024,W),new q(32,258,258,4096,W)];var Cn=rt,Sn=nt,Un=tt,Mn=$,Rn=et,Tn=at,On=it,Fn=ot,Zn="pako deflate (from Nodeca project)",Ln={deflateInit:Cn,deflateInit2:Sn,deflateReset:Un,deflateResetKeep:Mn,deflateSetHeader:Rn,deflate:Tn,deflateEnd:On,deflateSetDictionary:Fn,deflateInfo:Zn},Nn=Zt,Kn=!0,In=!0;try{String.fromCharCode.apply(null,[0])}catch(t){Kn=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){In=!1}for(var Hn=new Nn.Buf8(256),Yn=0;Yn<256;Yn++)Hn[Yn]=Yn>=252?6:Yn>=248?5:Yn>=240?4:Yn>=224?3:Yn>=192?2:1;Hn[254]=Hn[254]=1;var Dn=function(t){var e,n,r,a,i,o=t.length,s=0;for(a=0;a<o;a++)n=t.charCodeAt(a),55296===(64512&n)&&a+1<o&&(r=t.charCodeAt(a+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Nn.Buf8(s),i=0,a=0;i<s;a++)n=t.charCodeAt(a),55296===(64512&n)&&a+1<o&&(r=t.charCodeAt(a+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?e[i++]=n:n<2048?(e[i++]=192|n>>>6,e[i++]=128|63&n):n<65536?(e[i++]=224|n>>>12,e[i++]=128|n>>>6&63,e[i++]=128|63&n):(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63,e[i++]=128|n>>>6&63,e[i++]=128|63&n);return e},Pn=function(t){return st(t,t.length)},jn=function(t){for(var e=new Nn.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},Gn=function(t,e){var n,r,a,i,o=e||t.length,s=new Array(2*o);for(r=0,n=0;n<o;)if(a=t[n++],a<128)s[r++]=a;else if(i=Hn[a],i>4)s[r++]=65533,n+=i-1;else{for(a&=2===i?31:3===i?15:7;i>1&&n<o;)a=a<<6|63&t[n++],i--;i>1?s[r++]=65533:a<65536?s[r++]=a:(a-=65536,s[r++]=55296|a>>10&1023,s[r++]=56320|1023&a)}return st(s,r)},Wn=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128===(192&t[n]);)n--;return n<0?e:0===n?e:n+Hn[t[n]]>e?n:e},Vn={string2buf:Dn,buf2binstring:Pn,binstring2buf:jn,buf2string:Gn,utf8border:Wn},Xn=ht,qn=Ln,Jn=Zt,Qn=Vn,$n=Me,tr=Xn,er=Object.prototype.toString,nr=0,rr=4,ar=0,ir=1,or=2,sr=-1,hr=0,lr=8;lt.prototype.push=function(t,e){var n,r,a=this.strm,i=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:e===!0?rr:nr,"string"==typeof t?a.input=Qn.string2buf(t):"[object ArrayBuffer]"===er.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new Jn.Buf8(i),a.next_out=0,a.avail_out=i),n=qn.deflate(a,r),n!==ir&&n!==ar)return this.onEnd(n),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||r!==rr&&r!==or)||("string"===this.options.to?this.onData(Qn.buf2binstring(Jn.shrinkBuf(a.output,a.next_out))):this.onData(Jn.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&n!==ir);return r===rr?(n=qn.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===ar):r!==or||(this.onEnd(ar),a.avail_out=0,!0)},lt.prototype.onData=function(t){this.chunks.push(t)},lt.prototype.onEnd=function(t){t===ar&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Jn.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var fr,cr,ur=lt,dr=ft,_r=ct,gr=ut,br={Deflate:ur,deflate:dr,deflateRaw:_r,gzip:gr},wr=30,pr=12,yr=function(t,e){var n,r,a,i,o,s,h,l,f,c,u,d,_,g,b,w,p,y,m,v,k,A,x,B,E;n=t.state,r=t.next_in,B=t.input,a=r+(t.avail_in-5),i=t.next_out,E=t.output,o=i-(e-t.avail_out),s=i+(t.avail_out-257),h=n.dmax,l=n.wsize,f=n.whave,c=n.wnext,u=n.window,d=n.hold,_=n.bits,g=n.lencode,b=n.distcode,w=(1<<n.lenbits)-1,p=(1<<n.distbits)-1;t:do{_<15&&(d+=B[r++]<<_,_+=8,d+=B[r++]<<_,_+=8),y=g[d&w];e:for(;;){if(m=y>>>24,d>>>=m,_-=m,m=y>>>16&255,0===m)E[i++]=65535&y;else{if(!(16&m)){if(0===(64&m)){y=g[(65535&y)+(d&(1<<m)-1)];continue e}if(32&m){n.mode=pr;break t}t.msg="invalid literal/length code",n.mode=wr;break t}v=65535&y,m&=15,m&&(_<m&&(d+=B[r++]<<_,_+=8),v+=d&(1<<m)-1,d>>>=m,_-=m),_<15&&(d+=B[r++]<<_,_+=8,d+=B[r++]<<_,_+=8),y=b[d&p];n:for(;;){if(m=y>>>24,d>>>=m,_-=m,m=y>>>16&255,!(16&m)){if(0===(64&m)){y=b[(65535&y)+(d&(1<<m)-1)];continue n}t.msg="invalid distance code",n.mode=wr;break t}if(k=65535&y,m&=15,_<m&&(d+=B[r++]<<_,_+=8,_<m&&(d+=B[r++]<<_,_+=8)),k+=d&(1<<m)-1,k>h){t.msg="invalid distance too far back",n.mode=wr;break t}if(d>>>=m,_-=m,m=i-o,k>m){if(m=k-m,m>f&&n.sane){t.msg="invalid distance too far back",n.mode=wr;break t}if(A=0,x=u,0===c){if(A+=l-m,m<v){v-=m;do E[i++]=u[A++];while(--m);A=i-k,x=E}}else if(c<m){if(A+=l+c-m,m-=c,m<v){v-=m;do E[i++]=u[A++];while(--m);if(A=0,c<v){m=c,v-=m;do E[i++]=u[A++];while(--m);A=i-k,x=E}}}else if(A+=c-m,m<v){v-=m;do E[i++]=u[A++];while(--m);A=i-k,x=E}for(;v>2;)E[i++]=x[A++],E[i++]=x[A++],E[i++]=x[A++],v-=3;v&&(E[i++]=x[A++],v>1&&(E[i++]=x[A++]))}else{A=i-k;do E[i++]=E[A++],E[i++]=E[A++],E[i++]=E[A++],v-=3;while(v>2);v&&(E[i++]=E[A++],v>1&&(E[i++]=E[A++]))}break}}break}}while(r<a&&i<s);v=_>>3,r-=v,_-=v<<3,d&=(1<<_)-1,t.next_in=r,t.next_out=i,t.avail_in=r<a?5+(a-r):5-(r-a),t.avail_out=i<s?257+(s-i):257-(i-s),n.hold=d,n.bits=_},mr=Zt,vr=15,kr=852,Ar=592,xr=0,Br=1,Er=2,zr=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Cr=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Sr=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Ur=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],Mr=function(t,e,n,r,a,i,o,s){var h,l,f,c,u,d,_,g,b,w=s.bits,p=0,y=0,m=0,v=0,k=0,A=0,x=0,B=0,E=0,z=0,C=null,S=0,U=new mr.Buf16(vr+1),M=new mr.Buf16(vr+1),R=null,T=0;for(p=0;p<=vr;p++)U[p]=0;for(y=0;y<r;y++)U[e[n+y]]++;for(k=w,v=vr;v>=1&&0===U[v];v--);if(k>v&&(k=v),0===v)return a[i++]=20971520,a[i++]=20971520,s.bits=1,0;for(m=1;m<v&&0===U[m];m++);for(k<m&&(k=m),B=1,p=1;p<=vr;p++)if(B<<=1,B-=U[p],B<0)return-1;if(B>0&&(t===xr||1!==v))return-1;for(M[1]=0,p=1;p<vr;p++)M[p+1]=M[p]+U[p];for(y=0;y<r;y++)0!==e[n+y]&&(o[M[e[n+y]]++]=y);if(t===xr?(C=R=o,d=19):t===Br?(C=zr,S-=257,R=Cr,T-=257,d=256):(C=Sr,R=Ur,d=-1),z=0,y=0,p=m,u=i,A=k,x=0,f=-1,E=1<<k,c=E-1,t===Br&&E>kr||t===Er&&E>Ar)return 1;for(var O=0;;){O++,_=p-x,o[y]<d?(g=0,b=o[y]):o[y]>d?(g=R[T+o[y]],b=C[S+o[y]]):(g=96,b=0),h=1<<p-x,l=1<<A,m=l;do l-=h,a[u+(z>>x)+l]=_<<24|g<<16|b|0;while(0!==l);for(h=1<<p-1;z&h;)h>>=1;if(0!==h?(z&=h-1,z+=h):z=0,y++,0===--U[p]){if(p===v)break;p=e[n+o[y]]}if(p>k&&(z&c)!==f){for(0===x&&(x=k),u+=m,A=p-x,B=1<<A;A+x<v&&(B-=U[A+x],!(B<=0));)A++,B<<=1;if(E+=1<<A,t===Br&&E>kr||t===Er&&E>Ar)return 1;f=z&c,a[f]=k<<24|A<<16|u-i|0}}return 0!==z&&(a[u+z]=p-x<<24|64<<16|0),s.bits=k,0},Rr=Zt,Tr=Ce,Or=Ue,Fr=yr,Zr=Mr,Lr=0,Nr=1,Kr=2,Ir=4,Hr=5,Yr=6,Dr=0,Pr=1,jr=2,Gr=-2,Wr=-3,Vr=-4,Xr=-5,qr=8,Jr=1,Qr=2,$r=3,ta=4,ea=5,na=6,ra=7,aa=8,ia=9,oa=10,sa=11,ha=12,la=13,fa=14,ca=15,ua=16,da=17,_a=18,ga=19,ba=20,wa=21,pa=22,ya=23,ma=24,va=25,ka=26,Aa=27,xa=28,Ba=29,Ea=30,za=31,Ca=32,Sa=852,Ua=592,Ma=15,Ra=Ma,Ta=!0,Oa=bt,Fa=wt,Za=gt,La=yt,Na=pt,Ka=kt,Ia=At,Ha=xt,Ya=Bt,Da="pako inflate (from Nodeca project)",Pa={inflateReset:Oa,inflateReset2:Fa,inflateResetKeep:Za,inflateInit:La,inflateInit2:Na,inflate:Ka,inflateEnd:Ia,inflateGetHeader:Ha,inflateSetDictionary:Ya,inflateInfo:Da},ja={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},Ga=Et,Wa=Pa,Va=Zt,Xa=Vn,qa=ja,Ja=Me,Qa=Xn,$a=Ga,ti=Object.prototype.toString;zt.prototype.push=function(t,e){var n,r,a,i,o,s,h=this.strm,l=this.options.chunkSize,f=this.options.dictionary,c=!1;if(this.ended)return!1;r=e===~~e?e:e===!0?qa.Z_FINISH:qa.Z_NO_FLUSH,"string"==typeof t?h.input=Xa.binstring2buf(t):"[object ArrayBuffer]"===ti.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new Va.Buf8(l),h.next_out=0,h.avail_out=l),n=Wa.inflate(h,qa.Z_NO_FLUSH),n===qa.Z_NEED_DICT&&f&&(s="string"==typeof f?Xa.string2buf(f):"[object ArrayBuffer]"===ti.call(f)?new Uint8Array(f):f,n=Wa.inflateSetDictionary(this.strm,s)),n===qa.Z_BUF_ERROR&&c===!0&&(n=qa.Z_OK,c=!1),n!==qa.Z_STREAM_END&&n!==qa.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&n!==qa.Z_STREAM_END&&(0!==h.avail_in||r!==qa.Z_FINISH&&r!==qa.Z_SYNC_FLUSH)||("string"===this.options.to?(a=Xa.utf8border(h.output,h.next_out),i=h.next_out-a,o=Xa.buf2string(h.output,a),h.next_out=i,h.avail_out=l-i,i&&Va.arraySet(h.output,h.output,a,i,0),this.onData(o)):this.onData(Va.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(c=!0)}while((h.avail_in>0||0===h.avail_out)&&n!==qa.Z_STREAM_END);return n===qa.Z_STREAM_END&&(r=qa.Z_FINISH),r===qa.Z_FINISH?(n=Wa.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===qa.Z_OK):r!==qa.Z_SYNC_FLUSH||(this.onEnd(qa.Z_OK),h.avail_out=0,!0)},zt.prototype.onData=function(t){this.chunks.push(t)},zt.prototype.onEnd=function(t){t===qa.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Va.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var ei=zt,ni=Ct,ri=St,ai=Ct,ii={Inflate:ei,inflate:ni,inflateRaw:ri,ungzip:ai},oi=Zt.assign,si=br,hi=ii,li=ja,fi={};oi(fi,si,hi,li);for(var ci=fi,ui=Mt,di=Rt,_i=Ft,gi=[],bi=[],wi="undefined"!=typeof Uint8Array?Uint8Array:Array,pi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yi=0,mi=pi.length;yi<mi;++yi)gi[yi]=pi[yi],bi[pi.charCodeAt(yi)]=yi;bi["-".charCodeAt(0)]=62,bi["_".charCodeAt(0)]=63;var vi={byteLength:ui,toByteArray:di,fromByteArray:_i};const ki=ci,Ai=vi,xi=()=>{return"undefined"!=typeof window&&window.crypto&&window.crypto.subtle&&"function"==typeof window.crypto.getRandomValues},Bi=()=>{const e=t;if("function"!=typeof e.getCiphers)return!1;const n=e.getCiphers();return n&&(n.includes("aes-256-gcm")||n.includes("aes-256-cbc"))},Ei=t=>{return Ai.fromByteArray(t)},zi=t=>{return Ai.toByteArray(t)},Ci=t=>{return t.map((e,n)=>{const r=t[n].toString(8);return r.length<2?"0"+r:r}).join("")},Si=t=>{if(t.length%2!==0)throw"Must have an even number of hex digits to convert to bytes";return Uint8Array.from(t.split(/.{1,2}/g).map((t,e)=>{return parseInt(t,16)}))},Ui=t=>{return ki.deflate(t)},Mi=t=>{return ki.inflate(t,{to:"string"})},Ri=t=>Buffer.from(encodeURIComponent(t)).toString("base64"),Ti=t=>decodeURIComponent(Buffer.from(t,"base64").toString("utf8")),Oi=(t,e,n,r,a)=>{console.log("passed calc mac: ",r);const i=Uint8Array.from(r),o=Uint8Array.from(n);if(n.byteLength!==a||r.byteLength<a||0===i.length)throw new Error("bad MAC length");console.log("a: ",i),console.log("b: ",o);const s=i.reduce((t,e,n)=>{return t|i[n]^o[n]},0);if(0===s)return console.log("*message is authentic*"),console.log("calculated MAC: ",Ei(i)),console.log("original MAC: ",Ei(o)),!0;throw console.log("message could not be authenticated"),console.log("calculated MAC: ",Ei(i)),console.log("original MAC: ",Ei(o)),new Error("bad MAC")};var Fi={hasWebCrypto:xi,hasNodeCrypto:Bi,base64ToBytes:zi,base64FromBytes:Ei,hexToBytes:Si,hexFromBytes:Ci,compress:Ui,decompress:Mi,encodeBase64:Ri,decodeBase64:Ti,verifyMac:Oi},Zi={},Li=Object.freeze({default:Zi}),Ni=Li&&Li.default||Li,Ki=n(function(t){!function(t){function n(t,e,n,r){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n,t[e+4]=r>>24&255,t[e+5]=r>>16&255,t[e+6]=r>>8&255,t[e+7]=255&r}function r(t,e,n,r,a){var i,o=0;for(i=0;i<a;i++)o|=t[e+i]^n[r+i];return(1&o-1>>>8)-1}function a(t,e,n,a){return r(t,e,n,a,16)}function i(t,e,n,a){return r(t,e,n,a,32)}function o(t,e,n,r){for(var a,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,l=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,f=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,u=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,_=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,g=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,b=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,w=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,p=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,y=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,m=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,v=i,k=o,A=s,x=h,B=l,E=f,z=c,C=u,S=d,U=_,M=g,R=b,T=w,O=p,F=y,Z=m,L=0;L<20;L+=2)a=v+T|0,B^=a<<7|a>>>25,a=B+v|0,S^=a<<9|a>>>23,a=S+B|0,T^=a<<13|a>>>19,a=T+S|0,v^=a<<18|a>>>14,a=E+k|0,U^=a<<7|a>>>25,a=U+E|0,O^=a<<9|a>>>23,a=O+U|0,k^=a<<13|a>>>19,a=k+O|0,E^=a<<18|a>>>14,a=M+z|0,F^=a<<7|a>>>25,a=F+M|0,A^=a<<9|a>>>23,a=A+F|0,z^=a<<13|a>>>19,a=z+A|0,M^=a<<18|a>>>14,a=Z+R|0,x^=a<<7|a>>>25,a=x+Z|0,C^=a<<9|a>>>23,a=C+x|0,R^=a<<13|a>>>19,a=R+C|0,Z^=a<<18|a>>>14,a=v+x|0,k^=a<<7|a>>>25,a=k+v|0,A^=a<<9|a>>>23,a=A+k|0,x^=a<<13|a>>>19,a=x+A|0,v^=a<<18|a>>>14,a=E+B|0,z^=a<<7|a>>>25,a=z+E|0,C^=a<<9|a>>>23,a=C+z|0,B^=a<<13|a>>>19,a=B+C|0,E^=a<<18|a>>>14,a=M+U|0,R^=a<<7|a>>>25,a=R+M|0,S^=a<<9|a>>>23,a=S+R|0,U^=a<<13|a>>>19,a=U+S|0,M^=a<<18|a>>>14,a=Z+F|0,T^=a<<7|a>>>25,a=T+Z|0,O^=a<<9|a>>>23,a=O+T|0,F^=a<<13|a>>>19,a=F+O|0,Z^=a<<18|a>>>14;v=v+i|0,k=k+o|0,A=A+s|0,x=x+h|0,B=B+l|0,E=E+f|0,z=z+c|0,C=C+u|0,S=S+d|0,U=U+_|0,M=M+g|0,R=R+b|0,T=T+w|0,O=O+p|0,F=F+y|0,Z=Z+m|0,t[0]=v>>>0&255,t[1]=v>>>8&255,t[2]=v>>>16&255,t[3]=v>>>24&255,t[4]=k>>>0&255,t[5]=k>>>8&255,t[6]=k>>>16&255,t[7]=k>>>24&255,t[8]=A>>>0&255,t[9]=A>>>8&255,t[10]=A>>>16&255,t[11]=A>>>24&255,t[12]=x>>>0&255,t[13]=x>>>8&255,t[14]=x>>>16&255,t[15]=x>>>24&255,t[16]=B>>>0&255,t[17]=B>>>8&255,t[18]=B>>>16&255,t[19]=B>>>24&255,t[20]=E>>>0&255,t[21]=E>>>8&255,t[22]=E>>>16&255,t[23]=E>>>24&255,t[24]=z>>>0&255,t[25]=z>>>8&255,t[26]=z>>>16&255,t[27]=z>>>24&255,t[28]=C>>>0&255,t[29]=C>>>8&255,t[30]=C>>>16&255,t[31]=C>>>24&255,t[32]=S>>>0&255,t[33]=S>>>8&255,t[34]=S>>>16&255,t[35]=S>>>24&255,t[36]=U>>>0&255,t[37]=U>>>8&255,t[38]=U>>>16&255,t[39]=U>>>24&255,t[40]=M>>>0&255,t[41]=M>>>8&255,t[42]=M>>>16&255,t[43]=M>>>24&255,t[44]=R>>>0&255,t[45]=R>>>8&255,t[46]=R>>>16&255,t[47]=R>>>24&255,t[48]=T>>>0&255,t[49]=T>>>8&255,t[50]=T>>>16&255,t[51]=T>>>24&255,t[52]=O>>>0&255,t[53]=O>>>8&255,t[54]=O>>>16&255,t[55]=O>>>24&255,t[56]=F>>>0&255,t[57]=F>>>8&255,t[58]=F>>>16&255,t[59]=F>>>24&255,t[60]=Z>>>0&255,t[61]=Z>>>8&255,t[62]=Z>>>16&255,t[63]=Z>>>24&255}function s(t,e,n,r){for(var a,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,l=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,f=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,u=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,_=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,g=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,b=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,w=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,p=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,y=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,m=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,v=i,k=o,A=s,x=h,B=l,E=f,z=c,C=u,S=d,U=_,M=g,R=b,T=w,O=p,F=y,Z=m,L=0;L<20;L+=2)a=v+T|0,B^=a<<7|a>>>25,a=B+v|0,S^=a<<9|a>>>23,a=S+B|0,T^=a<<13|a>>>19,a=T+S|0,v^=a<<18|a>>>14,a=E+k|0,U^=a<<7|a>>>25,a=U+E|0,O^=a<<9|a>>>23,a=O+U|0,k^=a<<13|a>>>19,a=k+O|0,E^=a<<18|a>>>14,a=M+z|0,F^=a<<7|a>>>25,a=F+M|0,A^=a<<9|a>>>23,a=A+F|0,z^=a<<13|a>>>19,a=z+A|0,M^=a<<18|a>>>14,a=Z+R|0,x^=a<<7|a>>>25,a=x+Z|0,C^=a<<9|a>>>23,a=C+x|0,R^=a<<13|a>>>19,a=R+C|0,Z^=a<<18|a>>>14,a=v+x|0,k^=a<<7|a>>>25,a=k+v|0,A^=a<<9|a>>>23,a=A+k|0,x^=a<<13|a>>>19,a=x+A|0,v^=a<<18|a>>>14,a=E+B|0,z^=a<<7|a>>>25,a=z+E|0,C^=a<<9|a>>>23,a=C+z|0,B^=a<<13|a>>>19,a=B+C|0,E^=a<<18|a>>>14,a=M+U|0,R^=a<<7|a>>>25,a=R+M|0,S^=a<<9|a>>>23,a=S+R|0,U^=a<<13|a>>>19,a=U+S|0,M^=a<<18|a>>>14,a=Z+F|0,T^=a<<7|a>>>25,a=T+Z|0,O^=a<<9|a>>>23,a=O+T|0,F^=a<<13|a>>>19,a=F+O|0,Z^=a<<18|a>>>14;t[0]=v>>>0&255,t[1]=v>>>8&255,t[2]=v>>>16&255,t[3]=v>>>24&255,t[4]=E>>>0&255,t[5]=E>>>8&255,t[6]=E>>>16&255,t[7]=E>>>24&255,t[8]=M>>>0&255,t[9]=M>>>8&255,t[10]=M>>>16&255,t[11]=M>>>24&255,t[12]=Z>>>0&255,t[13]=Z>>>8&255,t[14]=Z>>>16&255,t[15]=Z>>>24&255,t[16]=z>>>0&255,t[17]=z>>>8&255,t[18]=z>>>16&255,t[19]=z>>>24&255,t[20]=C>>>0&255,t[21]=C>>>8&255,t[22]=C>>>16&255,t[23]=C>>>24&255,t[24]=S>>>0&255,t[25]=S>>>8&255,t[26]=S>>>16&255,t[27]=S>>>24&255,t[28]=U>>>0&255,t[29]=U>>>8&255,t[30]=U>>>16&255,t[31]=U>>>24&255}function h(t,e,n,r){o(t,e,n,r)}function l(t,e,n,r){s(t,e,n,r)}function f(t,e,n,r,a,i,o){var s,l,f=new Uint8Array(16),c=new Uint8Array(64);for(l=0;l<16;l++)f[l]=0;for(l=0;l<8;l++)f[l]=i[l];for(;a>=64;){for(h(c,f,o,ut),l=0;l<64;l++)t[e+l]=n[r+l]^c[l];for(s=1,l=8;l<16;l++)s=s+(255&f[l])|0,f[l]=255&s,s>>>=8;a-=64,e+=64,r+=64}if(a>0)for(h(c,f,o,ut),l=0;l<a;l++)t[e+l]=n[r+l]^c[l];return 0}function c(t,e,n,r,a){var i,o,s=new Uint8Array(16),l=new Uint8Array(64);for(o=0;o<16;o++)s[o]=0;for(o=0;o<8;o++)s[o]=r[o];for(;n>=64;){for(h(l,s,a,ut),o=0;o<64;o++)t[e+o]=l[o];for(i=1,o=8;o<16;o++)i=i+(255&s[o])|0,s[o]=255&i,i>>>=8;n-=64,e+=64}if(n>0)for(h(l,s,a,ut),o=0;o<n;o++)t[e+o]=l[o];return 0}function u(t,e,n,r,a){var i=new Uint8Array(32);l(i,r,a,ut);for(var o=new Uint8Array(8),s=0;s<8;s++)o[s]=r[s+16];return c(t,e,n,o,i)}function d(t,e,n,r,a,i,o){var s=new Uint8Array(32);l(s,i,o,ut);for(var h=new Uint8Array(8),c=0;c<8;c++)h[c]=i[c+16];return f(t,e,n,r,a,h,s)}function _(t,e,n,r,a,i){var o=new dt(i);return o.update(n,r,a),o.finish(t,e),0}function g(t,e,n,r,i,o){var s=new Uint8Array(16);return _(s,0,n,r,i,o),a(t,e,s,0)}function b(t,e,n,r,a){var i;if(n<32)return-1;for(d(t,0,e,0,n,r,a),_(t,16,t,32,n-32,t),i=0;i<16;i++)t[i]=0;return 0}function w(t,e,n,r,a){var i,o=new Uint8Array(32);if(n<32)return-1;if(u(o,0,32,r,a),0!==g(e,16,e,32,n-32,o))return-1;for(d(t,0,e,0,n,r,a),i=0;i<32;i++)t[i]=0;return 0}function p(t,e){var n;for(n=0;n<16;n++)t[n]=0|e[n]}function y(t){var e,n,r=1;for(e=0;e<16;e++)n=t[e]+r+65535,r=Math.floor(n/65536),t[e]=n-65536*r;t[0]+=r-1+37*(r-1)}function m(t,e,n){for(var r,a=~(n-1),i=0;i<16;i++)r=a&(t[i]^e[i]),t[i]^=r,e[i]^=r}function v(t,e){var n,r,a,i=tt(),o=tt();for(n=0;n<16;n++)o[n]=e[n];for(y(o),y(o),y(o),r=0;r<2;r++){for(i[0]=o[0]-65517,n=1;n<15;n++)i[n]=o[n]-65535-(i[n-1]>>16&1),i[n-1]&=65535;i[15]=o[15]-32767-(i[14]>>16&1),a=i[15]>>16&1,i[14]&=65535,m(o,i,1-a)}for(n=0;n<16;n++)t[2*n]=255&o[n],t[2*n+1]=o[n]>>8}function k(t,e){var n=new Uint8Array(32),r=new Uint8Array(32);return v(n,t),v(r,e),i(n,0,r,0)}function A(t){var e=new Uint8Array(32);return v(e,t),1&e[0]}function x(t,e){var n;for(n=0;n<16;n++)t[n]=e[2*n]+(e[2*n+1]<<8);t[15]&=32767}function B(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]+n[r]}function E(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]-n[r]}function z(t,e,n){var r,a,i=0,o=0,s=0,h=0,l=0,f=0,c=0,u=0,d=0,_=0,g=0,b=0,w=0,p=0,y=0,m=0,v=0,k=0,A=0,x=0,B=0,E=0,z=0,C=0,S=0,U=0,M=0,R=0,T=0,O=0,F=0,Z=n[0],L=n[1],N=n[2],K=n[3],I=n[4],H=n[5],Y=n[6],D=n[7],P=n[8],j=n[9],G=n[10],W=n[11],V=n[12],X=n[13],q=n[14],J=n[15];r=e[0],i+=r*Z,o+=r*L,s+=r*N,h+=r*K,l+=r*I,f+=r*H,c+=r*Y,u+=r*D,d+=r*P,_+=r*j,g+=r*G,b+=r*W,w+=r*V,p+=r*X,y+=r*q,m+=r*J,r=e[1],o+=r*Z,s+=r*L,h+=r*N,l+=r*K,f+=r*I,c+=r*H,u+=r*Y,d+=r*D,_+=r*P,g+=r*j,b+=r*G,w+=r*W,p+=r*V,y+=r*X,m+=r*q,v+=r*J,r=e[2],s+=r*Z,h+=r*L,l+=r*N,f+=r*K,c+=r*I,u+=r*H,d+=r*Y,_+=r*D,g+=r*P,b+=r*j,w+=r*G,p+=r*W,y+=r*V,m+=r*X,v+=r*q,k+=r*J,r=e[3],h+=r*Z,l+=r*L,f+=r*N,c+=r*K,u+=r*I,d+=r*H,_+=r*Y,g+=r*D,b+=r*P,w+=r*j,p+=r*G,y+=r*W,m+=r*V,v+=r*X,k+=r*q,A+=r*J,r=e[4],l+=r*Z,f+=r*L,c+=r*N,u+=r*K,d+=r*I,_+=r*H,g+=r*Y,b+=r*D,w+=r*P,p+=r*j,y+=r*G,m+=r*W,v+=r*V,k+=r*X,A+=r*q,x+=r*J,r=e[5],f+=r*Z,c+=r*L,u+=r*N,d+=r*K,_+=r*I,g+=r*H,b+=r*Y,w+=r*D,p+=r*P,y+=r*j,m+=r*G,v+=r*W,k+=r*V,A+=r*X,x+=r*q,B+=r*J,r=e[6],c+=r*Z,u+=r*L,d+=r*N,_+=r*K,g+=r*I,b+=r*H,w+=r*Y,p+=r*D,y+=r*P,m+=r*j,v+=r*G,k+=r*W,A+=r*V,x+=r*X,B+=r*q,E+=r*J,r=e[7],u+=r*Z,d+=r*L,_+=r*N,g+=r*K,b+=r*I,w+=r*H,p+=r*Y,y+=r*D,m+=r*P,v+=r*j,k+=r*G,A+=r*W,x+=r*V,B+=r*X,E+=r*q,z+=r*J,r=e[8],d+=r*Z,_+=r*L,g+=r*N,b+=r*K,w+=r*I,p+=r*H,y+=r*Y,m+=r*D,v+=r*P,k+=r*j,A+=r*G,x+=r*W,B+=r*V,E+=r*X,z+=r*q,C+=r*J,r=e[9],_+=r*Z,g+=r*L,b+=r*N,w+=r*K,p+=r*I,y+=r*H,m+=r*Y,v+=r*D,k+=r*P,A+=r*j,x+=r*G,B+=r*W,E+=r*V,z+=r*X,C+=r*q,S+=r*J,r=e[10],g+=r*Z,b+=r*L,w+=r*N,p+=r*K,y+=r*I,m+=r*H,v+=r*Y,k+=r*D,A+=r*P,x+=r*j,B+=r*G,E+=r*W,z+=r*V,C+=r*X,S+=r*q,U+=r*J,r=e[11],b+=r*Z,w+=r*L,p+=r*N,y+=r*K,m+=r*I,v+=r*H,k+=r*Y,A+=r*D,x+=r*P,B+=r*j,E+=r*G,z+=r*W;C+=r*V;S+=r*X,U+=r*q,M+=r*J,r=e[12],w+=r*Z,p+=r*L,y+=r*N,m+=r*K,v+=r*I,k+=r*H,A+=r*Y,x+=r*D,B+=r*P,E+=r*j,z+=r*G,C+=r*W,S+=r*V,U+=r*X,M+=r*q,R+=r*J,r=e[13],p+=r*Z,y+=r*L,m+=r*N,v+=r*K,k+=r*I,A+=r*H,x+=r*Y,B+=r*D,E+=r*P,z+=r*j,C+=r*G,S+=r*W,U+=r*V,M+=r*X,R+=r*q,T+=r*J,r=e[14],y+=r*Z,m+=r*L,v+=r*N,k+=r*K,A+=r*I,x+=r*H,B+=r*Y,E+=r*D,z+=r*P,C+=r*j,S+=r*G,U+=r*W,M+=r*V,R+=r*X,T+=r*q,O+=r*J,r=e[15],m+=r*Z,v+=r*L,k+=r*N,A+=r*K,x+=r*I,B+=r*H,E+=r*Y,z+=r*D,C+=r*P,S+=r*j,U+=r*G,M+=r*W,R+=r*V,T+=r*X,O+=r*q,F+=r*J,i+=38*v,o+=38*k,s+=38*A,h+=38*x,l+=38*B,f+=38*E,c+=38*z,u+=38*C,d+=38*S,_+=38*U,g+=38*M,b+=38*R,w+=38*T,p+=38*O,y+=38*F,a=1,r=i+a+65535,a=Math.floor(r/65536),i=r-65536*a,r=o+a+65535,a=Math.floor(r/65536),o=r-65536*a,r=s+a+65535,a=Math.floor(r/65536),s=r-65536*a,r=h+a+65535,a=Math.floor(r/65536),h=r-65536*a,r=l+a+65535,a=Math.floor(r/65536),l=r-65536*a,r=f+a+65535,a=Math.floor(r/65536),f=r-65536*a,r=c+a+65535,a=Math.floor(r/65536),c=r-65536*a,r=u+a+65535,a=Math.floor(r/65536),u=r-65536*a,r=d+a+65535,a=Math.floor(r/65536),d=r-65536*a,r=_+a+65535,a=Math.floor(r/65536),_=r-65536*a,r=g+a+65535,a=Math.floor(r/65536),g=r-65536*a,r=b+a+65535,a=Math.floor(r/65536),b=r-65536*a,r=w+a+65535,a=Math.floor(r/65536),w=r-65536*a,r=p+a+65535,a=Math.floor(r/65536),p=r-65536*a,r=y+a+65535,a=Math.floor(r/65536),y=r-65536*a,r=m+a+65535,a=Math.floor(r/65536),m=r-65536*a,i+=a-1+37*(a-1),a=1,r=i+a+65535,a=Math.floor(r/65536),i=r-65536*a,r=o+a+65535,a=Math.floor(r/65536),o=r-65536*a,r=s+a+65535,a=Math.floor(r/65536),s=r-65536*a,r=h+a+65535,a=Math.floor(r/65536),h=r-65536*a,r=l+a+65535,a=Math.floor(r/65536),l=r-65536*a,r=f+a+65535,a=Math.floor(r/65536),f=r-65536*a,r=c+a+65535,a=Math.floor(r/65536),c=r-65536*a,r=u+a+65535,a=Math.floor(r/65536),u=r-65536*a,r=d+a+65535,a=Math.floor(r/65536),d=r-65536*a,r=_+a+65535,a=Math.floor(r/65536),_=r-65536*a,r=g+a+65535,a=Math.floor(r/65536),g=r-65536*a,r=b+a+65535,a=Math.floor(r/65536),b=r-65536*a,r=w+a+65535,a=Math.floor(r/65536),w=r-65536*a,r=p+a+65535,a=Math.floor(r/65536),p=r-65536*a,r=y+a+65535,a=Math.floor(r/65536),y=r-65536*a,r=m+a+65535,a=Math.floor(r/65536),m=r-65536*a,i+=a-1+37*(a-1),t[0]=i,t[1]=o,t[2]=s,t[3]=h,t[4]=l,t[5]=f,t[6]=c,t[7]=u,t[8]=d,t[9]=_,t[10]=g,t[11]=b,t[12]=w,t[13]=p;t[14]=y;t[15]=m}function C(t,e){z(t,e,e)}function S(t,e){var n,r=tt();for(n=0;n<16;n++)r[n]=e[n];for(n=253;n>=0;n--)C(r,r),2!==n&&4!==n&&z(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}function U(t,e){var n,r=tt();for(n=0;n<16;n++)r[n]=e[n];for(n=250;n>=0;n--)C(r,r),1!==n&&z(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}function M(t,e,n){var r,a,i=new Uint8Array(32),o=new Float64Array(80),s=tt(),h=tt(),l=tt(),f=tt(),c=tt(),u=tt();for(a=0;a<31;a++)i[a]=e[a];for(i[31]=127&e[31]|64,i[0]&=248,x(o,n),a=0;a<16;a++)h[a]=o[a],f[a]=s[a]=l[a]=0;for(s[0]=f[0]=1,a=254;a>=0;--a)r=i[a>>>3]>>>(7&a)&1,m(s,h,r),m(l,f,r),B(c,s,l),E(s,s,l),B(l,h,f),E(h,h,f),C(f,c),C(u,s),z(s,l,s),z(l,h,c),B(c,s,l),E(s,s,l),C(h,s),E(l,f,u),z(s,l,ot),B(s,s,f),z(l,l,s),z(s,f,u),z(f,h,o),C(h,c),m(s,h,r),m(l,f,r);for(a=0;a<16;a++)o[a+16]=s[a],o[a+32]=l[a],o[a+48]=h[a],o[a+64]=f[a];var d=o.subarray(32),_=o.subarray(16);return S(d,d),z(_,_,d),v(t,_),0}function R(t,e){return M(t,e,rt)}function T(t,e){return et(e,32),R(t,e)}function O(t,e,n){var r=new Uint8Array(32);return M(r,n,e),l(t,nt,r,ut)}function F(t,e,n,r,a,i){var o=new Uint8Array(32);return O(o,a,i),_t(t,e,n,r,o)}function Z(t,e,n,r,a,i){var o=new Uint8Array(32);return O(o,a,i),gt(t,e,n,r,o)}function L(t,e,n,r){for(var a,i,o,s,h,l,f,c,u,d,_,g,b,w,p,y,m,v,k,A,x,B,E,z,C,S,U=new Int32Array(16),M=new Int32Array(16),R=t[0],T=t[1],O=t[2],F=t[3],Z=t[4],L=t[5],N=t[6],K=t[7],I=e[0],H=e[1],Y=e[2],D=e[3],P=e[4],j=e[5],G=e[6],W=e[7],V=0;r>=128;){for(k=0;k<16;k++)A=8*k+V,U[k]=n[A+0]<<24|n[A+1]<<16|n[A+2]<<8|n[A+3],M[k]=n[A+4]<<24|n[A+5]<<16|n[A+6]<<8|n[A+7];for(k=0;k<80;k++)if(a=R,i=T,o=O,s=F,h=Z,l=L,f=N,c=K,u=I,d=H,_=Y,g=D,b=P,w=j,p=G,y=W,x=K,B=W,E=65535&B,z=B>>>16,C=65535&x,S=x>>>16,x=(Z>>>14|P<<18)^(Z>>>18|P<<14)^(P>>>9|Z<<23),B=(P>>>14|Z<<18)^(P>>>18|Z<<14)^(Z>>>9|P<<23),E+=65535&B,z+=B>>>16,C+=65535&x,S+=x>>>16,x=Z&L^~Z&N,B=P&j^~P&G,E+=65535&B,z+=B>>>16,C+=65535&x,S+=x>>>16,x=bt[2*k],B=bt[2*k+1],E+=65535&B,z+=B>>>16,C+=65535&x,S+=x>>>16,x=U[k%16],B=M[k%16],E+=65535&B,z+=B>>>16,C+=65535&x,S+=x>>>16,z+=E>>>16,C+=z>>>16,S+=C>>>16,m=65535&C|S<<16,v=65535&E|z<<16,x=m,B=v,E=65535&B,z=B>>>16,C=65535&x,S=x>>>16,x=(R>>>28|I<<4)^(I>>>2|R<<30)^(I>>>7|R<<25),B=(I>>>28|R<<4)^(R>>>2|I<<30)^(R>>>7|I<<25),E+=65535&B,z+=B>>>16,C+=65535&x,S+=x>>>16,x=R&T^R&O^T&O,B=I&H^I&Y^H&Y,E+=65535&B,z+=B>>>16,C+=65535&x,S+=x>>>16,z+=E>>>16,C+=z>>>16,S+=C>>>16,c=65535&C|S<<16,y=65535&E|z<<16,x=s,B=g,E=65535&B,z=B>>>16,C=65535&x,S=x>>>16,x=m,B=v,E+=65535&B,z+=B>>>16,C+=65535&x,S+=x>>>16,z+=E>>>16,C+=z>>>16,S+=C>>>16,s=65535&C|S<<16,g=65535&E|z<<16,T=a,O=i,F=o,Z=s,L=h,N=l,K=f,R=c,H=u,Y=d,D=_,P=g,j=b,G=w,W=p,I=y,k%16===15)for(A=0;A<16;A++)x=U[A],B=M[A],E=65535&B,z=B>>>16,C=65535&x,S=x>>>16,x=U[(A+9)%16],B=M[(A+9)%16],E+=65535&B,z+=B>>>16,C+=65535&x,S+=x>>>16,m=U[(A+1)%16],v=M[(A+1)%16],x=(m>>>1|v<<31)^(m>>>8|v<<24)^m>>>7,B=(v>>>1|m<<31)^(v>>>8|m<<24)^(v>>>7|m<<25),E+=65535&B,z+=B>>>16,C+=65535&x,S+=x>>>16,m=U[(A+14)%16],v=M[(A+14)%16],x=(m>>>19|v<<13)^(v>>>29|m<<3)^m>>>6,B=(v>>>19|m<<13)^(m>>>29|v<<3)^(v>>>6|m<<26),E+=65535&B,z+=B>>>16,C+=65535&x,S+=x>>>16,z+=E>>>16,C+=z>>>16,S+=C>>>16,U[A]=65535&C|S<<16,M[A]=65535&E|z<<16;x=R,B=I,E=65535&B,z=B>>>16,C=65535&x,S=x>>>16,x=t[0],B=e[0],E+=65535&B,z+=B>>>16,C+=65535&x,S+=x>>>16,z+=E>>>16,C+=z>>>16,S+=C>>>16,t[0]=R=65535&C|S<<16,e[0]=I=65535&E|z<<16,x=T,B=H,E=65535&B,z=B>>>16,C=65535&x,S=x>>>16,x=t[1],B=e[1],E+=65535&B,z+=B>>>16,C+=65535&x,S+=x>>>16,z+=E>>>16,C+=z>>>16,S+=C>>>16,t[1]=T=65535&C|S<<16,e[1]=H=65535&E|z<<16,x=O,B=Y,E=65535&B,z=B>>>16,C=65535&x,S=x>>>16,x=t[2],B=e[2],E+=65535&B,z+=B>>>16,C+=65535&x,S+=x>>>16,z+=E>>>16,C+=z>>>16,S+=C>>>16,t[2]=O=65535&C|S<<16,e[2]=Y=65535&E|z<<16,x=F,B=D,E=65535&B,z=B>>>16,C=65535&x,S=x>>>16,x=t[3],B=e[3],E+=65535&B,z+=B>>>16,C+=65535&x,S+=x>>>16,z+=E>>>16,C+=z>>>16,S+=C>>>16,
t[3]=F=65535&C|S<<16,e[3]=D=65535&E|z<<16,x=Z,B=P,E=65535&B,z=B>>>16,C=65535&x,S=x>>>16,x=t[4],B=e[4],E+=65535&B,z+=B>>>16,C+=65535&x,S+=x>>>16,z+=E>>>16,C+=z>>>16,S+=C>>>16,t[4]=Z=65535&C|S<<16,e[4]=P=65535&E|z<<16,x=L,B=j,E=65535&B,z=B>>>16,C=65535&x,S=x>>>16,x=t[5],B=e[5],E+=65535&B,z+=B>>>16,C+=65535&x,S+=x>>>16,z+=E>>>16,C+=z>>>16,S+=C>>>16,t[5]=L=65535&C|S<<16,e[5]=j=65535&E|z<<16,x=N,B=G,E=65535&B,z=B>>>16,C=65535&x,S=x>>>16,x=t[6],B=e[6],E+=65535&B,z+=B>>>16,C+=65535&x,S+=x>>>16,z+=E>>>16,C+=z>>>16,S+=C>>>16,t[6]=N=65535&C|S<<16,e[6]=G=65535&E|z<<16,x=K,B=W,E=65535&B,z=B>>>16,C=65535&x,S=x>>>16,x=t[7],B=e[7],E+=65535&B,z+=B>>>16,C+=65535&x,S+=x>>>16,z+=E>>>16,C+=z>>>16,S+=C>>>16,t[7]=K=65535&C|S<<16,e[7]=W=65535&E|z<<16,V+=128,r-=128}return r}function N(t,e,r){var a,i=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),h=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,L(i,o,e,r),r%=128,a=0;a<r;a++)s[a]=e[h-r+a];for(s[r]=128,r=256-128*(r<112?1:0),s[r-9]=0,n(s,r-8,h/536870912|0,h<<3),L(i,o,s,r),a=0;a<8;a++)n(t,8*a,i[a],o[a]);return 0}function K(t,e){var n=tt(),r=tt(),a=tt(),i=tt(),o=tt(),s=tt(),h=tt(),l=tt(),f=tt();E(n,t[1],t[0]),E(f,e[1],e[0]),z(n,n,f),B(r,t[0],t[1]),B(f,e[0],e[1]),z(r,r,f),z(a,t[3],e[3]),z(a,a,ht),z(i,t[2],e[2]),B(i,i,i),E(o,r,n),E(s,i,a),B(h,i,a),B(l,r,n),z(t[0],o,s),z(t[1],l,h),z(t[2],h,s),z(t[3],o,l)}function I(t,e,n){var r;for(r=0;r<4;r++)m(t[r],e[r],n)}function H(t,e){var n=tt(),r=tt(),a=tt();S(a,e[2]),z(n,e[0],a),z(r,e[1],a),v(t,r),t[31]^=A(n)<<7}function Y(t,e,n){var r,a;for(p(t[0],at),p(t[1],it),p(t[2],it),p(t[3],at),a=255;a>=0;--a)r=n[a/8|0]>>(7&a)&1,I(t,e,r),K(e,t),K(t,t),I(t,e,r)}function D(t,e){var n=[tt(),tt(),tt(),tt()];p(n[0],lt),p(n[1],ft),p(n[2],it),z(n[3],lt,ft),Y(t,n,e)}function P(t,e,n){var r,a=new Uint8Array(64),i=[tt(),tt(),tt(),tt()];for(n||et(e,32),N(a,e,32),a[0]&=248,a[31]&=127,a[31]|=64,D(i,a),H(t,i),r=0;r<32;r++)e[r+32]=t[r];return 0}function j(t,e){var n,r,a,i;for(r=63;r>=32;--r){for(n=0,a=r-32,i=r-12;a<i;++a)e[a]+=n-16*e[r]*wt[a-(r-32)],n=e[a]+128>>8,e[a]-=256*n;e[a]+=n,e[r]=0}for(n=0,a=0;a<32;a++)e[a]+=n-(e[31]>>4)*wt[a],n=e[a]>>8,e[a]&=255;for(a=0;a<32;a++)e[a]-=n*wt[a];for(r=0;r<32;r++)e[r+1]+=e[r]>>8,t[r]=255&e[r]}function G(t){var e,n=new Float64Array(64);for(e=0;e<64;e++)n[e]=t[e];for(e=0;e<64;e++)t[e]=0;j(t,n)}function W(t,e,n,r){var a,i,o=new Uint8Array(64),s=new Uint8Array(64),h=new Uint8Array(64),l=new Float64Array(64),f=[tt(),tt(),tt(),tt()];N(o,r,32),o[0]&=248,o[31]&=127,o[31]|=64;var c=n+64;for(a=0;a<n;a++)t[64+a]=e[a];for(a=0;a<32;a++)t[32+a]=o[32+a];for(N(h,t.subarray(32),n+32),G(h),D(f,h),H(t,f),a=32;a<64;a++)t[a]=r[a];for(N(s,t,n+64),G(s),a=0;a<64;a++)l[a]=0;for(a=0;a<32;a++)l[a]=h[a];for(a=0;a<32;a++)for(i=0;i<32;i++)l[a+i]+=s[a]*o[i];return j(t.subarray(32),l),c}function V(t,e){var n=tt(),r=tt(),a=tt(),i=tt(),o=tt(),s=tt(),h=tt();return p(t[2],it),x(t[1],e),C(a,t[1]),z(i,a,st),E(a,a,t[2]),B(i,t[2],i),C(o,i),C(s,o),z(h,s,o),z(n,h,a),z(n,n,i),U(n,n),z(n,n,a),z(n,n,i),z(n,n,i),z(t[0],n,i),C(r,t[0]),z(r,r,i),k(r,a)&&z(t[0],t[0],ct),C(r,t[0]),z(r,r,i),k(r,a)?-1:(A(t[0])===e[31]>>7&&E(t[0],at,t[0]),z(t[3],t[0],t[1]),0)}function X(t,e,n,r){var a,o,s=new Uint8Array(32),h=new Uint8Array(64),l=[tt(),tt(),tt(),tt()],f=[tt(),tt(),tt(),tt()];if(o=-1,n<64)return-1;if(V(f,r))return-1;for(a=0;a<n;a++)t[a]=e[a];for(a=0;a<32;a++)t[a+32]=r[a];if(N(h,t,n),G(h),Y(l,f,h),D(f,e.subarray(32)),K(l,f),H(s,l),n-=64,i(e,0,s,0)){for(a=0;a<n;a++)t[a]=0;return-1}for(a=0;a<n;a++)t[a]=e[a+64];return o=n}function q(t,e){if(t.length!==pt)throw new Error("bad key size");if(e.length!==yt)throw new Error("bad nonce size")}function J(t,e){if(t.length!==xt)throw new Error("bad public key size");if(e.length!==Bt)throw new Error("bad secret key size")}function Q(){var t,e;for(e=0;e<arguments.length;e++)if("[object Uint8Array]"!==(t=Object.prototype.toString.call(arguments[e])))throw new TypeError("unexpected type "+t+", use Uint8Array")}function $(t){for(var e=0;e<t.length;e++)t[e]=0}var tt=function(t){var e,n=new Float64Array(16);if(t)for(e=0;e<t.length;e++)n[e]=t[e];return n},et=function(){throw new Error("no PRNG")},nt=new Uint8Array(16),rt=new Uint8Array(32);rt[0]=9;var at=tt(),it=tt([1]),ot=tt([56129,1]),st=tt([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),ht=tt([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),lt=tt([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),ft=tt([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),ct=tt([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]),ut=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),dt=function(t){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var e,n,r,a,i,o,s,h;e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,n=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|n<<3),r=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(n>>>10|r<<6),a=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(r>>>7|a<<9),i=255&t[8]|(255&t[9])<<8,this.r[4]=255&(a>>>4|i<<12),this.r[5]=i>>>1&8190,o=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(i>>>14|o<<2),s=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(o>>>11|s<<5),h=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(s>>>8|h<<8),this.r[9]=h>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};dt.prototype.blocks=function(t,e,n){for(var r,a,i,o,s,h,l,f,c,u,d,_,g,b,w,p,y,m,v,k=this.fin?0:2048,A=this.h[0],x=this.h[1],B=this.h[2],E=this.h[3],z=this.h[4],C=this.h[5],S=this.h[6],U=this.h[7],M=this.h[8],R=this.h[9],T=this.r[0],O=this.r[1],F=this.r[2],Z=this.r[3],L=this.r[4],N=this.r[5],K=this.r[6],I=this.r[7],H=this.r[8],Y=this.r[9];n>=16;)r=255&t[e+0]|(255&t[e+1])<<8,A+=8191&r,a=255&t[e+2]|(255&t[e+3])<<8,x+=8191&(r>>>13|a<<3),i=255&t[e+4]|(255&t[e+5])<<8,B+=8191&(a>>>10|i<<6),o=255&t[e+6]|(255&t[e+7])<<8,E+=8191&(i>>>7|o<<9),s=255&t[e+8]|(255&t[e+9])<<8,z+=8191&(o>>>4|s<<12),C+=s>>>1&8191,h=255&t[e+10]|(255&t[e+11])<<8,S+=8191&(s>>>14|h<<2),l=255&t[e+12]|(255&t[e+13])<<8,U+=8191&(h>>>11|l<<5),f=255&t[e+14]|(255&t[e+15])<<8,M+=8191&(l>>>8|f<<8),R+=f>>>5|k,c=0,u=c,u+=A*T,u+=x*(5*Y),u+=B*(5*H),u+=E*(5*I),u+=z*(5*K),c=u>>>13,u&=8191,u+=C*(5*N),u+=S*(5*L),u+=U*(5*Z),u+=M*(5*F),u+=R*(5*O),c+=u>>>13,u&=8191,d=c,d+=A*O,d+=x*T,d+=B*(5*Y),d+=E*(5*H),d+=z*(5*I),c=d>>>13,d&=8191,d+=C*(5*K),d+=S*(5*N),d+=U*(5*L),d+=M*(5*Z),d+=R*(5*F),c+=d>>>13,d&=8191,_=c,_+=A*F,_+=x*O,_+=B*T,_+=E*(5*Y),_+=z*(5*H),c=_>>>13,_&=8191,_+=C*(5*I),_+=S*(5*K),_+=U*(5*N),_+=M*(5*L),_+=R*(5*Z),c+=_>>>13,_&=8191,g=c,g+=A*Z,g+=x*F,g+=B*O,g+=E*T,g+=z*(5*Y),c=g>>>13,g&=8191,g+=C*(5*H),g+=S*(5*I),g+=U*(5*K),g+=M*(5*N),g+=R*(5*L),c+=g>>>13,g&=8191,b=c,b+=A*L,b+=x*Z,b+=B*F,b+=E*O,b+=z*T,c=b>>>13,b&=8191,b+=C*(5*Y),b+=S*(5*H),b+=U*(5*I),b+=M*(5*K),b+=R*(5*N),c+=b>>>13,b&=8191,w=c,w+=A*N,w+=x*L,w+=B*Z,w+=E*F,w+=z*O,c=w>>>13,w&=8191,w+=C*T,w+=S*(5*Y),w+=U*(5*H),w+=M*(5*I),w+=R*(5*K),c+=w>>>13,w&=8191,p=c,p+=A*K,p+=x*N,p+=B*L,p+=E*Z,p+=z*F,c=p>>>13,p&=8191,p+=C*O,p+=S*T,p+=U*(5*Y),p+=M*(5*H),p+=R*(5*I),c+=p>>>13,p&=8191,y=c,y+=A*I,y+=x*K,y+=B*N,y+=E*L,y+=z*Z,c=y>>>13,y&=8191,y+=C*F,y+=S*O,y+=U*T,y+=M*(5*Y),y+=R*(5*H),c+=y>>>13,y&=8191,m=c,m+=A*H,m+=x*I,m+=B*K,m+=E*N,m+=z*L,c=m>>>13,m&=8191,m+=C*Z,m+=S*F,m+=U*O,m+=M*T,m+=R*(5*Y),c+=m>>>13,m&=8191,v=c,v+=A*Y,v+=x*H,v+=B*I,v+=E*K,v+=z*N,c=v>>>13,v&=8191,v+=C*L,v+=S*Z,v+=U*F,v+=M*O,v+=R*T,c+=v>>>13,v&=8191,c=(c<<2)+c|0,c=c+u|0,u=8191&c,c>>>=13,d+=c,A=u,x=d,B=_,E=g,z=b,C=w,S=p,U=y,M=m,R=v,e+=16,n-=16;this.h[0]=A,this.h[1]=x,this.h[2]=B,this.h[3]=E,this.h[4]=z,this.h[5]=C,this.h[6]=S,this.h[7]=U,this.h[8]=M,this.h[9]=R},dt.prototype.finish=function(t,e){var n,r,a,i,o=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=n,n=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,o[0]=this.h[0]+5,n=o[0]>>>13,o[0]&=8191,i=1;i<10;i++)o[i]=this.h[i]+n,n=o[i]>>>13,o[i]&=8191;for(o[9]-=8192,r=(1^n)-1,i=0;i<10;i++)o[i]&=r;for(r=~r,i=0;i<10;i++)this.h[i]=this.h[i]&r|o[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),a=this.h[0]+this.pad[0],this.h[0]=65535&a,i=1;i<8;i++)a=(this.h[i]+this.pad[i]|0)+(a>>>16)|0,this.h[i]=65535&a;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},dt.prototype.update=function(t,e,n){var r,a;if(this.leftover){for(a=16-this.leftover,a>n&&(a=n),r=0;r<a;r++)this.buffer[this.leftover+r]=t[e+r];if(n-=a,e+=a,this.leftover+=a,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(a=n-n%16,this.blocks(t,e,a),e+=a,n-=a),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=t[e+r];this.leftover+=n}};var _t=b,gt=w,bt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],wt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),pt=32,yt=24,mt=32,vt=16,kt=32,At=32,xt=32,Bt=32,Et=32,zt=yt,Ct=mt,St=vt,Ut=64,Mt=32,Rt=64,Tt=32,Ot=64;t.lowlevel={crypto_core_hsalsa20:l,crypto_stream_xor:d,crypto_stream:u,crypto_stream_salsa20_xor:f,crypto_stream_salsa20:c,crypto_onetimeauth:_,crypto_onetimeauth_verify:g,crypto_verify_16:a,crypto_verify_32:i,crypto_secretbox:b,crypto_secretbox_open:w,crypto_scalarmult:M,crypto_scalarmult_base:R,crypto_box_beforenm:O,crypto_box_afternm:_t,crypto_box:F,crypto_box_open:Z,crypto_box_keypair:T,crypto_hash:N,crypto_sign:W,crypto_sign_keypair:P,crypto_sign_open:X,crypto_secretbox_KEYBYTES:pt,crypto_secretbox_NONCEBYTES:yt,crypto_secretbox_ZEROBYTES:mt,crypto_secretbox_BOXZEROBYTES:vt,crypto_scalarmult_BYTES:kt,crypto_scalarmult_SCALARBYTES:At,crypto_box_PUBLICKEYBYTES:xt,crypto_box_SECRETKEYBYTES:Bt,crypto_box_BEFORENMBYTES:Et,crypto_box_NONCEBYTES:zt,crypto_box_ZEROBYTES:Ct,crypto_box_BOXZEROBYTES:St,crypto_sign_BYTES:Ut,crypto_sign_PUBLICKEYBYTES:Mt,crypto_sign_SECRETKEYBYTES:Rt,crypto_sign_SEEDBYTES:Tt,crypto_hash_BYTES:Ot},t.util||(t.util={},t.util.decodeUTF8=t.util.encodeUTF8=t.util.encodeBase64=t.util.decodeBase64=function(){throw new Error("nacl.util moved into separate package: https://github.com/dchest/tweetnacl-util-js")}),t.randomBytes=function(t){var e=new Uint8Array(t);return et(e,t),e},t.secretbox=function(t,e,n){Q(t,e,n),q(n,e);for(var r=new Uint8Array(mt+t.length),a=new Uint8Array(r.length),i=0;i<t.length;i++)r[i+mt]=t[i];return b(a,r,r.length,e,n),a.subarray(vt)},t.secretbox.open=function(t,e,n){Q(t,e,n),q(n,e);for(var r=new Uint8Array(vt+t.length),a=new Uint8Array(r.length),i=0;i<t.length;i++)r[i+vt]=t[i];return!(r.length<32)&&(0===w(a,r,r.length,e,n)&&a.subarray(mt))},t.secretbox.keyLength=pt,t.secretbox.nonceLength=yt,t.secretbox.overheadLength=vt,t.scalarMult=function(t,e){if(Q(t,e),t.length!==At)throw new Error("bad n size");if(e.length!==kt)throw new Error("bad p size");var n=new Uint8Array(kt);return M(n,t,e),n},t.scalarMult.base=function(t){if(Q(t),t.length!==At)throw new Error("bad n size");var e=new Uint8Array(kt);return R(e,t),e},t.scalarMult.scalarLength=At,t.scalarMult.groupElementLength=kt,t.box=function(e,n,r,a){var i=t.box.before(r,a);return t.secretbox(e,n,i)},t.box.before=function(t,e){Q(t,e),J(t,e);var n=new Uint8Array(Et);return O(n,t,e),n},t.box.after=t.secretbox,t.box.open=function(e,n,r,a){var i=t.box.before(r,a);return t.secretbox.open(e,n,i)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(xt),e=new Uint8Array(Bt);return T(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(Q(t),t.length!==Bt)throw new Error("bad secret key size");var e=new Uint8Array(xt);return R(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=xt,t.box.secretKeyLength=Bt,t.box.sharedKeyLength=Et,t.box.nonceLength=zt,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(Q(t,e),e.length!==Rt)throw new Error("bad secret key size");var n=new Uint8Array(Ut+t.length);return W(n,t,t.length,e),n},t.sign.open=function(t,e){if(2!==arguments.length)throw new Error("nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?");if(Q(t,e),e.length!==Mt)throw new Error("bad public key size");var n=new Uint8Array(t.length),r=X(n,t,t.length,e);if(r<0)return null;for(var a=new Uint8Array(r),i=0;i<a.length;i++)a[i]=n[i];return a},t.sign.detached=function(e,n){for(var r=t.sign(e,n),a=new Uint8Array(Ut),i=0;i<a.length;i++)a[i]=r[i];return a},t.sign.detached.verify=function(t,e,n){if(Q(t,e,n),e.length!==Ut)throw new Error("bad signature size");if(n.length!==Mt)throw new Error("bad public key size");var r,a=new Uint8Array(Ut+t.length),i=new Uint8Array(Ut+t.length);for(r=0;r<Ut;r++)a[r]=e[r];for(r=0;r<t.length;r++)a[r+Ut]=t[r];return X(i,a,a.length,n)>=0},t.sign.keyPair=function(){var t=new Uint8Array(Mt),e=new Uint8Array(Rt);return P(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(Q(t),t.length!==Rt)throw new Error("bad secret key size");for(var e=new Uint8Array(Mt),n=0;n<e.length;n++)e[n]=t[32+n];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(Q(t),t.length!==Tt)throw new Error("bad seed size");for(var e=new Uint8Array(Mt),n=new Uint8Array(Rt),r=0;r<32;r++)n[r]=t[r];return P(e,n,!0),{publicKey:e,secretKey:n}},t.sign.publicKeyLength=Mt,t.sign.secretKeyLength=Rt,t.sign.seedLength=Tt,t.sign.signatureLength=Ut,t.hash=function(t){Q(t);var e=new Uint8Array(Ot);return N(e,t,t.length),e},t.hash.hashLength=Ot,t.verify=function(t,e){return Q(t,e),0!==t.length&&0!==e.length&&(t.length===e.length&&0===r(t,0,e,0,t.length))},t.setPRNG=function(t){et=t},function(){var n="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(n&&n.getRandomValues){var r=65536;t.setPRNG(function(t,e){var a,i=new Uint8Array(e);for(a=0;a<e;a+=r)n.getRandomValues(i.subarray(a,a+Math.min(e-a,r)));for(a=0;a<e;a++)t[a]=i[a];$(i)})}else"undefined"!=typeof e&&(n=Ni,n&&n.randomBytes&&t.setPRNG(function(t,e){var r,a=n.randomBytes(e);for(r=0;r<e;r++)t[r]=a[r];$(a)}))}()}("undefined"!=typeof t&&t.exports?t.exports:self.nacl=self.nacl||{})});const Ii=Ki,Hi=Fi,Yi=(t,e="binary")=>{if(!t)throw"seed missing";const n=Uint8Array.from(t),r=Ii.scalarMult.base(n);return"base64"===e?{secretKey:Hi.base64FromBytes(n),publicKey:Hi.base64FromBytes(r)}:"hex"===e?{secretKey:Hi.hexFromBytes(n),publicKey:Hi.hexFromBytes(r)}:{secretKey:n,publicKey:r}},Di=(t,e,n="binary")=>{const r=Ii.scalarMult(t,e);return"base64"===n?Hi.base64FromBytes(r):"hex"===n?Hi.hexFromBytes(r):r},Pi=(t,e)=>{},ji=(t,e,n)=>{},Gi=t=>{},Wi=t=>{};var Vi={keyPair:Yi,sharedSecret:Di,sign:Pi,verify:ji,validateSecretKey:Gi,validatePublicKey:Wi};const Xi=Fi,qi=Xi.hasWebCrypto()?window.crypto:null,Ji=t=>{return qi.getRandomValues(new Uint8Array(t))},Qi=(t,e)=>{return qi.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!0,["sign"]).then(e=>qi.subtle.sign({name:"HMAC",hash:"SHA-256"},e,t))},$i=(t,e,n,r)=>{return qi.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!0,["verify"]).then(e=>qi.subtle.verify({name:"HMAC",hash:"SHA-256"},e,n,t)).then(t=>{if(!t)throw console.log("message could not be authenticated"),"bad MAC";return console.log("*message is authentic*"),t})},to=t=>{return qi.subtle.digest({name:"SHA-256"},t)},eo=(t,e)=>{console.log("-------------------------------------"),console.log("encrypting with web crypto AES-GCM..."),console.log("-------------------------------------");const n=Ji(16);return console.log("iv: ",Xi.base64FromBytes(n)),console.log("key: ",Xi.base64FromBytes(e)),qi.subtle.importKey("raw",e,{name:"AES-GCM",length:256},!1,["encrypt"]).then(e=>qi.subtle.encrypt({name:"AES-GCM",iv:n,tagLength:128},e,t)).then(t=>({data:new Uint8Array(t),iv:n}))},no=(t,e,n,r)=>{return console.log("-------------------------------------"),console.log("decrypting with web crypto AES-GCM..."),console.log("-------------------------------------"),console.log("iv: ",Xi.base64FromBytes(n)),console.log("key: ",Xi.base64FromBytes(e)),qi.subtle.importKey("raw",e,{name:"AES-GCM"},!1,["decrypt"]).then(e=>qi.subtle.decrypt({name:"AES-GCM",iv:n,tagLength:128},e,t)).then(t=>({data:t}))},ro=(t,e)=>{console.log("------------------------------------------"),console.log("encrypting with web crypto AES-CBC-HMAC..."),console.log("------------------------------------------");const n=Ji(16);let r=[];return console.log("iv: ",Xi.base64FromBytes(n)),console.log("key: ",Xi.base64FromBytes(e)),qi.subtle.importKey("raw",e,{name:"AES-CBC"},!1,["encrypt"]).then(e=>qi.subtle.encrypt({name:"AES-CBC",iv:n},e,t)).then(t=>{return r=new Uint8Array(t)}).then(t=>Qi(t,e)).then(t=>({data:r,iv:n,mac:new Uint8Array(t)}))},ao=(t,e,n,r)=>{return console.log("------------------------------------------"),console.log("decrypting with web crypto AES-CBC-HMAC..."),console.log("------------------------------------------"),console.log("iv: ",Xi.base64FromBytes(n)),console.log("key: ",Xi.base64FromBytes(e)),console.log("mac: ",Xi.base64FromBytes(r)),$i(t,e,r,r.byteLength).then(()=>qi.subtle.importKey("raw",e,{name:"AES-CBC"},!1,["decrypt"])).then(e=>qi.subtle.decrypt({name:"AES-CBC",iv:n},e,t)).then(t=>({data:t}))};var io={getRandomBytes:Ji,sign:Qi,verify:$i,hash:to,encrypt_AES_GCM:eo,decrypt_AES_GCM:no,encrypt_AES_CBC_HMAC:ro,decrypt_AES_CBC_HMAC:ao};const oo=Fi,so=oo.hasNodeCrypto()?t:null,ho=t=>{return so.randomBytes(t)},lo=(t,e)=>new Promise((n,r)=>{const a=so.createHmac("sha256",e);a.update(t),n(a.digest())}),fo=(t,e,n,r)=>{return lo(t,e).then(a=>oo.verifyMac(t,e,n,a,r))},co=t=>new Promise((e,n)=>{const r=so.createHash("sha512");r.update(t),e(r.digest())}),uo=(t,e)=>new Promise((n,r)=>{const a=ho(16),i=so.createCipheriv("aes-256-gcm",e,a);let o=i.update(t,"utf8");o=Buffer.concat([o,i.final()]);const s=i.getAuthTag();n({data:o,iv:a,mac:s})}),_o=(t,e,n,r)=>new Promise((a,i)=>{const o=so.createDecipheriv("aes-256-gcm",e,n);let s=o.setAuthTag(r).update(t);s=Buffer.concat([s,o.final()]),a({data:s})}),go=(t,e)=>new Promise((n,r)=>{const a=ho(16),i=so.createCipheriv("aes-256-cbc",e,a);let o=i.update(t,"utf8");o=Buffer.concat([o,i.final()]),lo(o,e).then(t=>n({data:o,iv:a,mac:t})).catch(r)}),bo=(t,e,n,r)=>new Promise((a,i)=>{return fo(t,e,r,r.byteLength).then(()=>{const r=so.createDecipheriv("aes-256-cbc",e,n);let i=r.update(t);i=Buffer.concat([i,r.final()]),a({data:i})}).catch(i)});var wo={getRandomBytes:ho,sign:lo,verify:fo,hash:co,encrypt_AES_GCM:uo,decrypt_AES_GCM:_o,encrypt_AES_CBC_HMAC:go,decrypt_AES_CBC_HMAC:bo};const po=Fi,yo=Vi,mo=io,vo=wo,ko={WEBCRYPTO:"webcrypto",NODE:"node"},Ao=()=>{return po.hasWebCrypto()?ko.WEBCRYPTO:!po.hasWebCrypto()&&po.hasNodeCrypto()?ko.NODE:ko.WEBCRYPTO},xo=({lib=ko.WEBCRYPTO,size=32})=>{switch(lib){case ko.NODE:return vo.getRandomBytes(size);case ko.WEBCRYPTO:default:return mo.getRandomBytes(size)}},Bo=({lib=ko.WEBCRYPTO,data="",key="",compressed=true,alg="aes-cbc-hmac"})=>{const t=compressed?po.compress(data):Buffer.from(data,"utf8"),e=po.base64ToBytes(key);let n={};switch(lib){case ko.NODE:n="aes-gcm"===alg?vo.encrypt_AES_GCM(t,e):vo.encrypt_AES_CBC_HMAC(t,e);break;case ko.WEBCRYPTO:default:n="aes-gcm"==alg?mo.encrypt_AES_GCM(t,e):mo.encrypt_AES_CBC_HMAC(t,e)}return n.then(t=>({data:po.base64FromBytes(t.data),iv:po.base64FromBytes(t.iv),mac:t.mac?po.base64FromBytes(t.mac):""}))},Eo=({lib=ko.WEBCRYPTO,data="",key="",iv="",mac="",compressed=true,alg="aes-cbc-hmac"})=>{const t=po.base64ToBytes(data),e=po.base64ToBytes(key),n=po.base64ToBytes(iv),r=po.base64ToBytes(mac);let a={};switch(lib){case ko.NODE:a="aes-gcm"===alg?vo.decrypt_AES_GCM(t,e,n,r):vo.decrypt_AES_CBC_HMAC(t,e,n,r);break;case ko.WEBCRYPTO:default:a="aes-gcm"===alg?mo.decrypt_AES_GCM(t,e,n,r):mo.decrypt_AES_CBC_HMAC(t,e,n,r)}return a.then(t=>({data:compressed?po.decompress(t.data):t.data.toString("utf8")}))};var zo=Object.assign({},po,yo,{CRYPTO_LIBS:ko,chooseCrypto:Ao,encrypt:Bo,decrypt:Eo,generateRandomBytes:xo});return zo}(crypto);
//# sourceMappingURL=woobie.js.map
